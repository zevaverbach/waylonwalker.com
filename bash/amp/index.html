<!DOCTYPE html>
<html ‚ö° lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width" name="viewport"/>
<link href="/8bitcc.ico" rel="icon" type="image/png"/>
<meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
<link href="8bitcc_48x48.png" rel="apple-touch-icon" sizes="48x48"/>
<link href="8bitcc_72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="8bitcc_96x96.png" rel="apple-touch-icon" sizes="96x96"/>
<link href="8bitcc_144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="8bitcc_192x192.png" rel="apple-touch-icon" sizes="192x192"/>
<link href="8bitcc_256x256.png" rel="apple-touch-icon" sizes="256x256"/>
<link href="8bitcc_384x384.png" rel="apple-touch-icon" sizes="384x384"/>
<link href="8bitcc_512x512.png" rel="apple-touch-icon" sizes="512x512"/>
<title>üìù Bash Notes</title>

<style amp-boilerplate="">body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate="">body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<style amp-custom="">
        h1{font-weight:700}h1,h2,h3,h4,h5,h6{font-family:"Space Mono",monospace}h1{font-size:2.5em;font-family:"Space Mono",monospace;color:#6a65ca;color:#ff66c4}h2{font-size:1.63rem;color:#d68eba}h3{font-family:"Space Mono",monospace}p{font-family:"Space Mono",monospace;color:rgba(255,255,255,.6);font-size:21px;font-style:normal;font-variant:normal;font-weight:400;line-height:1.5}@media only screen and (max-width:700px){p{font-size:18px}}@media only screen and (max-width:600px){p{font-size:16px}}@media only screen and (max-width:500px){p{font-size:14px}}@media only screen and (max-width:400px){p{font-size:12px}}blockquote{font-family:"Space Mono",monospace}code{font-family:"Space Mono",monospace}pre{font-family:"Segoe UI",Frutiger,"Frutiger Linotype","Dejavu Sans","Helvetica Neue",Arial,sans-serif;font-family:"Space Mono",monospace;font-family:"Space Mono",monospace}a{font-family:"Space Mono",monospace;color:#6f6bae;text-decoration-color:goldenrod}*{box-sizing:border-box}*{font-family:"SF Mono",Monaco,Inconsolata,"Fira Mono","Droid Sans Mono","Source Code Pro",monospace}article,body,div,footer,header,hgroup,html,nav,section{position:relative;display:flex;align-items:center;flex-direction:column;flex-shrink:0}li,p,ul{margin:0;padding:0}p{margin-bottom:1rem}body,html{min-height:100vh;max-width:100%;width:100%;margin:0;padding:2rem;overflow-x:hidden;color:#fafafa;display:flex;padding:0;background-size:800px;min-height:100vh;background:#282c34;background:linear-gradient(81deg,#282c34 0,#3a2e3d 100%)}section{margin-bottom:5rem}h1{color:#ff66c4}ul.archive-list{box-shadow:0 0 2rem rgba(0,0,0,.3),-8rem -6rem 8rem -6rem rgba(253,221,88,.2),4rem 0 8rem rgba(88,82,185,.3),0 0 2rem -1.6rem rgba(255,215,70,.8);margin:0;padding:0;list-style-type:none;margin-top:1rem}li.post{margin:0;width:100%;list-style-type:none;border-width:1px;border-style:solid;border-image:linear-gradient(to right,#ff66c4,rgba(255,102,196,.2)) 1 0 0 0}li.post:nth-child(2n-1){background-color:rgba(255,255,255,.01);background-image:linear-gradient(22deg,rgba(255,255,255,0),rgba(255,255,255,.03))}li.post:nth-child(2n){background-color:rgba(0,0,0,.02);background-image:linear-gradient(22deg,rgba(0,0,0,0),rgba(0,0,0,.03))}li.post a{color:#fafafa;text-decoration:none}li.post h2,li.post p{max-width:800px;width:calc(100vw - 100px)}li.post h2,li.post p{margin-left:2rem;margin-right:2rem}li.post a:focus-visible h2,li.post:hover h2{color:#ff66c4}p{color:#d3d3d3}li.post a:focus-visible p,li.post:hover p{color:#fafafa}nav{padding:1rem 0;align-items:flex-end;max-width:1000px;width:100%}nav ul{list-style-type:none;display:flex}nav ul li{margin:0 .4rem}nav ul li a{text-align:center;color:#dcdcdc;text-decoration:none;padding:.5rem;margin-left:.1rem;margin-right:.1rem;align-items:flex-end}nav ul li a:focus-visible,nav ul li:hover a,ul.archive-tags li a:focus-visible,ul.archive-tags li:hover a{color:#ff66c4}ul.archive-tags{display:flex;justify-content:center;list-style-type:none;color:#dcdcdc;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:2rem;width:100%}ul.archive-tags li{padding:.2rem 1rem}ul.archive-tags li a{text-decoration:none;color:#fafafa}.social{display:flex}.social li{list-style-type:None}.social a{color:#daa520;padding:1rem .2rem}#cover-wrapper{z-index:2;width:100%;min-height:min(420px,100vw / 2.38)}#cover-wrapper img{width:calc(100% + 2rem);margin:-2rem}#title-wrapper{display:flex;justify-content:flex-end;align-items:flex-end;width:calc(100% + 2rem);left:-1rem;padding:8rem 1rem 0;margin-top:-8rem;margin-bottom:2.2rem;background:linear-gradient(149deg,#282c34 0,rgba(58,46,61,0) 100%);border-bottom:1px solid #daa520}#title-wrapper h1{margin-top:8rem;margin-bottom:0;word-break:break-all}#title-wrapper p{text-align:right;padding-left:0;margin-bottom:0;margin-top:0}#title-wrapper a{color:#daa520;text-decoration:none}#title-wrapper .h-card .content{display:flex;flex-direction:column;align-items:flex-end;margin:1rem 0}.p-note,.post-date{color:rgba(255,255,255,.2)}#title-wrapper a:focus-visible,#title-wrapper a:hover{color:#ff66c4}article.blog-post,div#post-body{display:block}article.blog-post .toc a{padding:.5rem}article.blog-post .toc li{margin:1rem}article.blog-post .toc ul{list-style-type:none;border:none;padding:0;margin:0 0 .5rem}article.blog-post div.toc{margin-bottom:1rem}article.blog-post div.toc:after{content:'';display:block;width:50%;border-bottom:1px solid #daa520}h2.toc{margin-bottom:1rem;text-align:center;color:rgba(255,255,255,.8)}.toc li{margin:1rem}.toc a{color:rgba(255,255,255,.5)}.toc a:focus-visible,.toc a:hover{color:#ff66c4}article.blog-post li>code,article.blog-post p>code{background:rgba(255,20,147,.075);padding:0 .2rem}article.blog-post{overflow:hidden;background:rgba(51,0,38,.13);background:hsla(234,33%,15%,.66);display:block;margin:.2rem;width:min(95vw,1000px);position:relative;margin:2rem 0;padding:1rem;padding-bottom:5rem;border-radius:2px;box-shadow:.2rem .2rem 1rem rgba(0,0,0,.2);flex-direction:column;align-items:flex-start;color:#f5f5f5}@media (max-width:650px){article.blog-post{width:100vw;width:min(100vw,1000px)}}@media (max-width:1200px){article.blog-post h1{font-size:2.5rem;padding:1rem}}@media (max-width:1200px){article.blog-post h2{padding-left:1rem}}@media (max-width:1200px){article.blog-post h3{padding-left:1.4rem}}@media (max-width:1200px){article.blog-post h4,article.blog-post h5,article.blog-post h6{padding-left:1.6rem}}@media (max-width:1200px){article.blog-post{margin:0;padding:0;margin:0}}article.blog-post p{margin:2rem .8rem}@media (max-width:1200px){article.blog-post p{margin:2rem .8rem}article.blog-post ol,article.blog-post ul{padding:1.2rem}}article.blog-post pre{margin-bottom:1rem;align-self:flex-start;max-width:calc(100vw - 20px);padding:10px;overflow-x:auto}article.blog-post .highlight{background:#282c34;padding:1rem;margin:0 -1rem;width:calc(100% + 2rem)}article.blog-post a{color:#6f6bae;text-decoration-color:#330026;text-decoration-color:goldenrod}@media (max-width:1200px){p>img{left:-.8rem}}p>img{position:relative;box-shadow:.2rem .2rem 1rem rgba(51,0,38,.4);max-width:1000px;width:95vw;align-self:center;justify-self:center;align-items:center;justify-items:center;margin:auto;left:-1.6rem}.center-img>img{max-width:600px;margin:.5rem}.center-img{display:flex;justify-content:center}strong{color:#d68fbb;display:inline-block;transform:rotate(-2deg)}em{color:#6f6bae;display:inline-block;transform:rotate(.2deg);background:rgba(255,255,255,.04);padding:.1rem .8rem}h2{margin-top:5rem}article.blog-post ul{border-left:1px solid #ff66c4;padding:.5rem 0 .025rem 3rem;margin:2rem}blockquote{color:#777;background:rgba(255,20,147,.05);border-left:2px solid #daa520;font-size:1rem;padding:1rem 0 1rem .5rem;margin:2rem 0}hr{border:none;border-top:1px solid #daa520;margin:5rem auto;background:0 0;width:min(600px,80%)}h1{margin-top:5rem}.tweet{display:flex;justify-content:flex-end;margin:1rem 0}.tweet a{display:inline-block;border-radius:5px;padding:.5rem 1rem;background:#645fc4;color:#fedd58;text-decoration:none;vertical-align:center}.share{max-width:800px;margin:.8rem auto;padding:1rem 2rem;display:flex;align-items:center;border:1px solid #d68fbb;background-color:rgba(214,143,187,.1);border-radius:5px}.share a{padding:.2rem .5rem}.share p{margin:0;padding:0;padding-right:.2rem}.share ul li{margin:0;padding:0}.shrare ul{display:flex;list-style-type:none;margin:0;padding:0;border:none;font-size:1.3rem}.post-body hr{border-top:2px solid rgba(218,165,32,.2);margin:3rem 40%}.h-card{border-radius:5px;display:flex;align-items:center;justify-content:flex-end}.h-card img{width:50px;border-radius:50%;margin:.2rem;display:none}.h-card ul.social{list-style-type:none;border:none;margin:0;padding:0}.social{display:flex}.social li{list-style-type:None}.social a{color:#daa520;padding:1rem .2rem}.h-card li{margin:0;padding:0}.toc{width:min(90vw,600px);margin:auto;position:initial;font-size:.8rem;line-height:1.1rem}.toc li{padding:0;margin:0}.toc li.H1,.toc li.H2{padding-top:.8rem}.toc li.H3{padding-left:.5rem}.toc li.H4{padding-left:1rem}.toc li.H5{padding-left:1.25rem}.toc li.H6{padding-left:1.5rem}@media (min-width:1500px){.toc{display:none}}.twitter-tweet{margin:10px auto}.onelinelink-wrapper{max-width:100vw}a.onelinelink{position:relative;left:2rem;background:#262236;margin:-6rem auto 1rem;border:2px solid rgba(255,50,50,.1);max-width:300px;border-radius:15px/45px;display:block;flex-direction:row}@media (max-width:350px){a.onelinelink{left:0;margin-left:.4rem;margin-right:.4rem}}@media (min-width:800px){a.onelinelink{max-width:600px;margin:auto}}@media (min-width:900px){a.onelinelink{max-width:700px}}@media (min-width:1000px){a.onelinelink{max-width:800px}}a.onelinelink{position:relative;z-index:2;margin:4rem;overflow:hidden;display:flex;border:2px solid rgba(255,50,50,.1);background:rgba(255,50,50,.015);background:#262236;text-decoration:none;border-radius:8px;max-height:126px}@media (max-width:800px){a.onelinelink{flex-direction:column;max-height:800px;max-width:300px;margin:4rem auto}}a.onelinelink h2{top:-1.2rem;postition:relative;margin:0;padding:0;font-size:.8rem;font-weight:400}a.onelinelink .right{width:calc(100% - 250px - 4rem);padding:5px 15px}@media (max-width:800px){a.onelinelink .right{width:auto}}a.onelinelink .description{font-size:1rem;line-height:1.2rem;height:calc(100% - 31px - 1rem);padding:0;padding-bottom:1rem;padding-top:.1rem;margin:0}a.onelinelink .url{padding-right:30px;color:rgba(255,255,255,.1);text-align:right;position:relative;z-index:2;background:#262236}a.onelinelink img{max-width:300px;max-height:126px;padding:0;margin:0;border-radius:8px 0 0 8px}a.onelinelink .read-more{font-size:.6rem;color:rgba(255,255,255,.08)}table{border-collapse:collapse;margin:auto}table,td,th{border:1px solid rgba(255,255,255,.4);min-width:5rem;padding:.2rem}.speed-control{display:flex;flex-direction:row;justify-content:center;margin-top:-.2rem;padding:1rem 0 .5rem;background:rgba(0,0,0,.3)}.speed-control button{margin:.4;transition:all .2s;border:.1rem solid #d3d3d3;color:#d3d3d3;background:0 0;text-align:center;padding:.35rem 1.2rem;margin:.1rem .5rem;border-radius:.12rem}.speed-control button:hover{color:#000;background:#d3d3d3}body::-webkit-scrollbar{width:1rem}@media (max-width:1000px){body::-webkit-scrollbar{width:.5rem}}@media (max-width:425px){body::-webkit-scrollbar{width:.25rem}}html{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:#5651B7}body::-webkit-scrollbar-track{background:#392e3d}body::-webkit-scrollbar-thumb{background-color:#5651b7;border-radius:.25rem;background:#706bd0;background:linear-gradient(180deg,#706bd0 0,#5651b7 100%);border:1px solid rgba(86j,81,183,.5)}
    </style>
<meta content="article" name="og:type" property="og:type"/><meta content="Waylon Walker" name="og:author" property="og:author"/><meta content="Waylon Walker" name="og:site_name" property="og:site_name"/><meta content="#322D39" name="theme-color"/><meta content="Waylon Walker" name="og:author" property="og:author"/><meta content="waylon@waylonwalaker.com" name="og:author_email" property="og:author_email"/><meta content="website" name="og:type" property="og:type"/><meta content="Waylon Walker's Bash Notes" name="description" property="description"/><meta content="Waylon Walker's Bash Notes" name="og:description" property="og:description"/><meta content="Waylon Walker's Bash Notes" name="twitter:description" property="twitter:description"/><meta content="üìù Bash Notes | Waylon Walker" name="og:title" property="og:title"/><meta content="üìù Bash Notes | Waylon Walker" name="twitter:title" property="twitter:title"/><meta content="https://images.waylonwalker.com/bash-og.png" name="og:image" property="og:image"/><meta content="https://images.waylonwalker.com/bash-og.png" name="twitter:image" property="twitter:image"/><meta content="1600" name="og:image:width" property="og:image:width"/><meta content="900" name="og:image:width" property="og:image:width"/><meta content="summary_large_image" name="twitter:card" property="twitter:card"/><meta content="Waylon Walker" name="og:site_name" property="og:site_name"/><meta content="@_waylonwalker" name="twitter:creator" property="twitter:creator"/><meta content="üìù Bash Notes" name="title" property="title"/><meta content="markata 0.1.0" name="generator" property="generator"/><script async src="https://cdn.ampproject.org/v0.js"></script><link href="https://waylonwalker.com/bash/" rel="canonical"/><meta content="https://waylonwalker.com/bash/" name="og:url" property="og:url"/></head>
<body>
<nav>
<ul>
<li><a href="/">Home</a></li>
<li><a href="/archive/">Archive</a></li>
<li>
<a aria-label="RSS" href="/rss.xml">
<svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
</path>
</svg>
</a>
</li>
</ul>
</nav>
<article class="blog-post h-entry">
<!-- <div id='cover-wrapper'>
      <img src='/bash.webp' alt='cover image for article' />
    </div> -->
<div id="title-wrapper">
<a class="u-url" href="https://waylonwalker.com/bash/">
<h1 class="flair" id="title" style="text-align:right;z-index:2;padding-right:.2rem">üìù Bash Notes
                </h1>
</a>
<p><time class="dt-published post-date" datetime="2019-09-08" style="text-align:right;z-index:2">2019-09-08</time>
</p>
<div class="h-card p-author" rel="author">
<div class="content">
<a class="p-name u-url" href="https://waylonwalker.com/">
<p>
<span class="p-given-name">Waylon</span>
<span class="p-family-name">Walker</span>
</p>
</a>
<p class="p-note">Learning in Public <a href="https://twitter.com/_WaylonWalker">@waylonwalker</a></p>
</div>
</div>
<!-- edit -->
<p><a href="https://github.com/WaylonWalker/waylonwalker.com/edit/main/pages/blog/bash.md" title="edit this post">edit<span aria-label="" role="img">‚úèÔ∏è</span></a></p>
</div>
<!-- <h2 class='toc'>toc</h2> -->
<!-- -->
<div id="amp-message">
<p style="background: rgba(0,0,0,0.1); padding: .5rem 3rem; margin: 2rem 0rem;">
          ‚ö° You've discovered an amp page, if you bump into any issues such as
          syntax highlighting feel free to jump to the <a href="https://waylonwalker.com/bash/">normal page</a>
</p>
</div>
<div id="post-body">
<p>Bash is super powerful.</p>
<h2 id="file-system-full">File System Full</h2>
<p><strong>Show Remaining Space on Drives</strong></p>
<div class="highlight"><pre><span></span><code>df -h
</code></pre></div>
<p><strong>show largest files in current directory</strong></p>
<div class="highlight"><pre><span></span><code>du . -h --max-depth<span class="o">=</span><span class="m">1</span>
</code></pre></div>
<p><strong>Move files then symlink them</strong></p>
<div class="highlight"><pre><span></span><code>mkdir /mnt/mounted_drive
mv ~/bigdir /mnt/mounted_drive
ln -s /mnt/mounted_drive/bigdir ~/bigdir
</code></pre></div>
<h2 id="fuzzy-one-liners">Fuzzy One Liners</h2>
<div class="highlight"><pre><span></span><code>a<span class="o">()</span> <span class="o">{</span><span class="nb">source</span> activate <span class="s2">"</span><span class="k">$(</span>conda info --envs <span class="p">|</span> fzf <span class="p">|</span> awk <span class="err">'</span><span class="o">{</span>print $
</code></pre></div>
<p><strong>edit in vim</strong></p>
<div class="highlight"><pre><span></span><code>vf<span class="o">()</span> <span class="o">{</span> fzf <span class="p">|</span> xargs -r -I % <span class="nv">$EDITOR</span> % <span class="p">;</span><span class="o">}</span>
</code></pre></div>
<p><strong>cat a file</strong></p>
<div class="highlight"><pre><span></span><code>vf<span class="o">()</span> <span class="o">{</span> fzf <span class="p">|</span> xargs -r -I % <span class="nv">$EDITOR</span> % <span class="p">;</span><span class="o">}</span>
</code></pre></div>
<p><strong>bash execute</strong></p>
<div class="highlight"><pre><span></span><code>bf<span class="o">()</span> <span class="o">{</span> bash <span class="s2">"</span><span class="k">$(</span>fzf<span class="k">)</span><span class="s2">"</span> <span class="o">}</span>
</code></pre></div>
<p><strong>git add</strong></p>
<div class="highlight"><pre><span></span><code>gadd<span class="o">()</span> <span class="o">{</span> git status -s <span class="p">|</span> fzf -m <span class="p">|</span> awk <span class="s1">'{print $2}'</span> <span class="p">|</span> xargs git add <span class="o">&amp;&amp;</span> git status -s<span class="o">}</span>
</code></pre></div>
<p><strong>git reset</strong></p>
<div class="highlight"><pre><span></span><code>greset<span class="o">()</span> <span class="o">{</span> git status -s <span class="p">|</span>  fzf -m <span class="p">|</span> awk <span class="s1">'{print $2}'</span> <span class="p">|</span>xargs git reset <span class="o">&amp;&amp;</span> git status -s<span class="o">}</span>
</code></pre></div>
<p><strong>Kill a process</strong></p>
<div class="highlight"><pre><span></span><code>fkill<span class="o">()</span> <span class="o">{</span><span class="nb">kill</span> <span class="k">$(</span>ps aux <span class="p">|</span> fzf <span class="p">|</span> awk <span class="s1">'{print($2)}'</span><span class="k">)</span><span class="o">}</span>
</code></pre></div>
<h2 id="finding-things">Finding things</h2>
<h3 id="files">Files</h3>
<p><a href="https://github.com/sharkdp/fd">fd-find</a> is amazing for finding files, it even respects your <code>.gitignore</code> file üò≤.  Install with <code>apt install fd-find</code>.</p>
<div class="highlight"><pre><span></span><code>fd md
</code></pre></div>
<div class="highlight"><pre><span></span><code>ag -g python
</code></pre></div>
<div class="highlight"><pre><span></span><code>find . -n <span class="s2">"*.md"</span>
</code></pre></div>
<p><em>++Vanilla Bonus</em></p>
<h3 id="content">Content</h3>
<p>** show matching text **</p>
<div class="highlight"><pre><span></span><code>ag python
</code></pre></div>
<div class="highlight"><pre><span></span><code>grep -iR Python
</code></pre></div>
<p><em>++Vanilla Bonus</em></p>
<p>** show file names only **</p>
<div class="highlight"><pre><span></span><code>ag -l python
</code></pre></div>
<div class="highlight"><pre><span></span><code>grep -iRl python
</code></pre></div>
<p><em>++Vanilla Bonus</em></p>
<h3 id="recursively-replace-text">Recursively Replace text</h3>
<div class="highlight"><pre><span></span><code>agr<span class="o">()</span> <span class="o">{</span>ag -l <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="p">|</span> xargs sed -i <span class="s2">"s/</span><span class="nv">$1</span><span class="s2">/</span><span class="nv">$2</span><span class="s2">/g"</span><span class="o">}</span>
</code></pre></div>
<p><em>++Vanilla Bonus</em></p>
<div class="highlight"><pre><span></span><code>grepr<span class="o">()</span> <span class="o">{</span>grep -iRl <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="p">|</span> xargs sed -i <span class="s2">"s/</span><span class="nv">$1</span><span class="s2">/</span><span class="nv">$2</span><span class="s2">/g"</span><span class="o">}</span>
</code></pre></div>
<p><strong>Extending</strong> <code>**agr**</code> <strong>or</strong> <code>**grepr**</code></p>
<p>There are so many options inside of <code>grep</code>, <code>ag</code>, and <code>sed</code> that you could many an enormous amount of these if you really wanted to, but I like to keep it simple.  These cover 90% of my usage.  If I wanted to change something in the second half I would just paste in this command and edit it. More often though I want to limit the input, say only replace word1 to word2 inside of markdown files.</p>
<p><strong>Limited Scope</strong></p>
<div class="highlight"><pre><span></span><code>fd md <span class="p">|</span> xargs argr python python3
</code></pre></div>
<div class="highlight"><pre><span></span><code>find . -n <span class="s2">"*.md"</span> <span class="p">|</span> xargs grepr python python3
</code></pre></div>
<p><em>++Vanilla Bonus</em></p>
<div class="onelinelink-wrapper">
<a class="onelinelink" href="https://waylonwalker.com/refactor-in-cli/">
<amp-img height="500" layout="responsive" src="https://images.waylonwalker.com/refactor-in-cli-og_250x140.png" width="500"></amp-img>
<p><strong>
 Large Refactor At The Command Line
</strong></p>
</a>
</div>
<blockquote>
<p>I use these replace commands heavily when doing large refactorings.</p>
</blockquote>
<h3 id="conditionally-configure">conditionally configure</h3>
<p>I like this one when there is not a good cli into config files and I need to replace something like a true to false if the value is in the config and append to the config if its not.</p>
<div class="highlight"><pre><span></span><code>grepr<span class="o">()</span> <span class="o">{</span>
    <span class="c1"># replaces first string with second string inside file from third argument</span>
    <span class="c1"># example:</span>
    <span class="c1">#   grepr "allow_conda_downgrades:.*" "allow_conda_downgrades: true" ~/.condarc</span>
    <span class="k">if</span> grep -xq <span class="nv">$1</span> <span class="nv">$3</span>
    <span class="k">then</span>
        sed -i <span class="s2">"s|</span><span class="nv">$1</span><span class="s2">|</span><span class="nv">$2</span><span class="s2">|g"</span> <span class="nv">$3</span>
    <span class="k">else</span>
        <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span> &gt;&gt; <span class="nv">$3</span>
    <span class="k">fi</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="watch-the-time">Watch the time</h3>
<div class="highlight"><pre><span></span><code>watch -n <span class="m">1</span> date
</code></pre></div>
<p><em>++Vanilla Bonus</em></p>
<p><strong>with figlet</strong></p>
<div class="highlight"><pre><span></span><code>watch -n <span class="m">1</span> bash -c <span class="s2">"date | figlet"</span>
</code></pre></div>
<h3 id="watch-a-function">watch a function</h3>
<div class="highlight"><pre><span></span><code>run <span class="o">()</span> <span class="o">{</span>
date
aws s3 sync <span class="nv">$BUCKET</span> .
<span class="o">}</span>
<span class="nb">export</span> -f run
watch -n <span class="m">10</span> run
</code></pre></div>
<h3 id="if-conda-environment-does-not-exist-create-it">if conda environment does not exist create it</h3>
<div class="highlight"><pre><span></span><code>conda info --envs <span class="p">|</span> grep my_env <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"my_env environment is installed"</span> <span class="o">||</span> conda create -n my_env <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.8 -y
<span class="nb">source</span> activate my_env
</code></pre></div>
<h1 id="rename-multiple-files">Rename multiple files</h1>
<p>more info from <a href="https://linuxize.com/post/how-to-rename-files-in-linux/">linuxize</a></p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> f <span class="k">in</span> *.png<span class="p">;</span> <span class="k">do</span>
   mv <span class="si">${</span><span class="nv">f</span><span class="si">}</span> prefix-<span class="si">${</span><span class="nv">f</span><span class="si">}</span>
<span class="k">done</span>
</code></pre></div>
<h3 id="using-the-rename-command">using the rename command</h3>
<div class="highlight"><pre><span></span><code>sudo apt install rename
</code></pre></div>
<div class="highlight"><pre><span></span><code>rename <span class="s2">"s/.GIF/.gif/"</span> *.GIF
</code></pre></div>
<h2 id="convert-all-files-in-a-directory-to-unix">convert all files in a directory to unix</h2>
<div class="highlight"><pre><span></span><code>dos2unix **/*
</code></pre></div>
<h2 id="recursively-remove-all-whitespace-from-py-files">recursively remove all whitespace from .py files</h2>
<div class="highlight"><pre><span></span><code>find **/*.py -type f -exec sed -i <span class="s1">'s/ *$//'</span> <span class="s1">'{}'</span> <span class="s1">';'</span>
</code></pre></div>
<h2 id="recursively-autopep8">recursively autopep8</h2>
<div class="highlight"><pre><span></span><code><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s1">'*.py'</span> <span class="o">-</span><span class="n">exec</span> <span class="n">autopep8</span> <span class="o">--</span><span class="ow">in</span><span class="o">-</span><span class="n">place</span> <span class="s1">'</span><span class="si">{}</span><span class="s1">'</span> \<span class="p">;</span>
</code></pre></div>
<h2 id="make-bash-script-a-runnable-command">make bash script a runnable command</h2>
<p>include a shebang</p>
<div class="highlight"><pre><span></span><code><span class="ch">#! /bin/bash</span>
</code></pre></div>
<p>chmod</p>
<div class="highlight"><pre><span></span><code>chmod +x /usr/local/bin/my_script
</code></pre></div>
<p>accept positional input</p>
<div class="highlight"><pre><span></span><code><span class="ch">#! /bin/bash</span>
<span class="nv">input</span><span class="o">=</span><span class="nv">$1</span>
<span class="nb">echo</span> input
</code></pre></div>
<h2 id="using-pyp">Using pyp</h2>
<div class="highlight"><pre><span></span><code>pipx install pyp
</code></pre></div>
<h2 id="replacement-for-cut">replacement for cut</h2>
<div class="highlight"><pre><span></span><code>‚ùØ python -m http.server <span class="m">5000</span> <span class="p">&amp;</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="m">8574</span>

‚ú¶ ‚ùØ Serving HTTP on <span class="m">0</span>.0.0.0 port <span class="m">5000</span> <span class="o">(</span>http://0.0.0.0:5000/<span class="o">)</span> ...

‚ú¶ ‚ùØ ps aux <span class="p">|</span> grep <span class="s2">"python -m http.server"</span> <span class="p">|</span> grep -v grep <span class="p">|</span> pyp <span class="s1">'line.split()[1]'</span> <span class="p">|</span> xargs <span class="nb">kill</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span>  + terminated  python -m http.server <span class="m">5000</span>
</code></pre></div>
<h2 id="replacement-for-wc">replacement for wc</h2>
<div class="highlight"><pre><span></span><code>conda info --envs <span class="p">|</span> pyp <span class="s1">'len(lines) - 3 # account for header and base'</span>
</code></pre></div>
<h2 id="print-contents-of-shell-function">print contents of shell function</h2>
<div class="highlight"><pre><span></span><code><span class="nb">declare</span> -f &lt;<span class="k">function</span>-name&gt;
</code></pre></div>
<h2 id="batch-rename-files">batch rename files</h2>
<div class="highlight"><pre><span></span><code><span class="k">for</span> f <span class="k">in</span> *.jpeg<span class="p">;</span> <span class="k">do</span>
    mv -- <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="s2">"</span><span class="si">${</span><span class="nv">f</span><span class="p">%.jpeg</span><span class="si">}</span><span class="s2">.jpg"</span>
<span class="k">done</span>
</code></pre></div>
<h2 id="convert-markdown-files-to-revealjs">convert markdown files to reveal.js</h2>
<p><a href="https://github.com/jgm/pandoc/wiki/Using-pandoc-to-produce-reveal.js-slides">https://github.com/jgm/pandoc/wiki/Using-pandoc-to-produce-reveal.js-slides</a>
install pandoc</p>
<div class="highlight"><pre><span></span><code>apt install pandoc
</code></pre></div>
<p>setup</p>
<div class="highlight"><pre><span></span><code>wget https://github.com/hakimel/reveal.js/archive/master.tar.gz
tar -xzvf master.tar.gz
mv reveal.js-master reveal.js
</code></pre></div>
<p>convert</p>
<div class="highlight"><pre><span></span><code>pandoc -t revealjs -s -o myslides.html myslides.md -V revealjs-url<span class="o">=</span>https://unpkg.com/reveal.js@3.9.2/
</code></pre></div>
<h2 id="render-markdown-at-the-command-line">Render Markdown at the command line</h2>
<p><a href="https://github.com/charmbracelet/glow">Glow</a> is a terminal markdown renderer written in go.  There iis a prebuilt binary that can simply be unzipped and executed to render markdow.</p>
<div class="highlight"><pre><span></span><code>wget https://github.com/charmbracelet/glow/releases/download/v0.2.0/glow_0.2.0_linux_x86_64.tar.gz
tar -xzf glow_0.2.0_linux_x86_64.tar.gz
chmod +x glow
sudo mv glow /usr/bin

glow &lt;filename&gt;
</code></pre></div>
<h2 id="autocomplete-for-click-applications">Autocomplete for click applications</h2>
<p>see the <a href="https://click.palletsprojects.com/en/7.x/bashcomplete/">docs</a> for more details</p>
<h2 id="autocomplete-for-non-click-python-clis">Autocomplete for non click python cli's</h2>
<p>shtab <a href="https://github.com/iterative/shtab" title="https://github.com/iterative/shtab">https://github.com/iterative/shtab</a></p>
<h2 id="ensure-functions-reset-context">Ensure functions reset context</h2>
<div class="highlight"><pre><span></span><code>project_log<span class="o">()</span> <span class="o">{</span>
   <span class="nv">_dir</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>
   _project_log<span class="o">()</span> <span class="o">{</span>
      <span class="nb">cd</span> ~/projects/project
      git log
   <span class="o">}</span>
   _project_log <span class="nv">$@</span> <span class="o">&amp;&amp;</span> <span class="nb">cd</span> <span class="nv">$_dir</span> <span class="o">||</span> <span class="nb">cd</span> <span class="nv">$_dir</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="finding-files">Finding Files</h2>
<div class="highlight"><pre><span></span><code>rg --files . <span class="p">|</span> grep bash
rg --files . <span class="p">|</span> rg bash
rg --files . <span class="p">|</span> ag bash
rg --files . <span class="p">|</span> fzf
rg -e <span class="s1">'hook'</span> -g <span class="s1">'*.md'</span>
rg -e <span class="s1">'hook'</span> -g <span class="s1">'*.py'</span>

rg --files-with-matches
rg --files-without-match
</code></pre></div>
<h2 id="mu-repo">mu-repo</h2>
<div class="highlight"><pre><span></span><code><span class="c1"># installation</span>
pip install mu-repo

<span class="c1">## register repos</span>
mu register --recursive
mu list

<span class="c1"># run git commands</span>
mu status --short
mu diff -U0 --color <span class="p">|</span> bat

<span class="c1"># run shell commands</span>
mu sh <span class="k">$(</span>grep -iRl <span class="s2">"KEDRO_GID=0"</span> <span class="p">|</span> xargs sed -i <span class="s2">"s/KEDRO_GID=0/KEDRO_GID=5/g"</span><span class="k">)</span>
</code></pre></div>
<div class="onelinelink-wrapper">
<a class="onelinelink" href="https://waylonwalker.com/mu-repo/">
<amp-img height="500" layout="responsive" src="https://images.waylonwalker.com/mu-repo-og_250x140.png" width="500"></amp-img>
<p><strong>
 Maintianing multiple git repos with mu-repo
</strong></p>
</a>
</div>
<blockquote>
<p>See the full post for mu-repo for more</p>
</blockquote>
<h2 id="mu-unregister-all">mu unregister all</h2>
<p>I ran into some issues with mu unregister * before, but this seems to work everywhere.</p>
<div class="highlight"><pre><span></span><code>mu list <span class="p">|</span> tail -n +3 <span class="p">|</span> xargs -I <span class="o">{}</span> mu unregister <span class="o">{}</span>
</code></pre></div>
<h2 id="mu-register-all-repos-that-have-an-rg-match">mu register all repos that have an rg match</h2>
<p>Add all repos that have a versionspec of 3.7 in them.</p>
<div class="highlight"><pre><span></span><code>rg --hidden<span class="o">=</span><span class="nb">true</span> <span class="s1">'versionSpec:.*.3.7'</span> -l <span class="p">|</span> xargs -I <span class="o">{}</span> mu register <span class="o">{}</span>
</code></pre></div>
<h2 id="xrandr">xrandr</h2>
<div class="highlight"><pre><span></span><code>xrandr -s 1920x1080
</code></pre></div>
<div class="prevnext">

<a class="prev" href="/bind-dynamic-lambdas">
<svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
<path d="M13.5 8.25L9.75 12L13.5 15.75" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"> </path>
</svg>
<div class="prevnext-text">
<p class="prevnext-subtitle">prev</p>
<p class="prevnext-title">TIL: Bind arguments to dynamically generated lambdas in python</p>
</div>
</a>
<a class="next" href="/autoreload-ipython">
<div class="prevnext-text">
<p class="prevnext-subtitle">next</p>
<p class="prevnext-title">Autoreload in Ipython</p>
</div>
<svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
<path d="M10.5 15.75L14.25 12L10.5 8.25" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
</svg>
</a>
</div>
</div>
<hr/>
<div id="show">
</div>
</article>
<h2>Socials</h2>
<ul class="social">
<li>
<a href="https://twitter.com/_WaylonWalker">twitter</a>
</li>
<li>
<a href="https://www.linkedin.com/in/waylonwalker/">LinkedIn</a>
</li>
<li>
<a href="https://github.com/WaylonWalker">GitHub</a>
</li>
<li>
<a href="https://dev.to/waylonwalker">Dev.to</a>
</li>
<li>
<a href="https://www.twitch.tv/waylonwalker">twitch</a>
</li>
</ul>
</body>
</html>