<!DOCTYPE html>
<html ⚡ lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width" name="viewport"/>
<link href="/8bitcc.ico" rel="icon" type="image/png"/>
<meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
<link href="8bitcc_48x48.png" rel="apple-touch-icon" sizes="48x48"/>
<link href="8bitcc_72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="8bitcc_96x96.png" rel="apple-touch-icon" sizes="96x96"/>
<link href="8bitcc_144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="8bitcc_192x192.png" rel="apple-touch-icon" sizes="192x192"/>
<link href="8bitcc_256x256.png" rel="apple-touch-icon" sizes="256x256"/>
<link href="8bitcc_384x384.png" rel="apple-touch-icon" sizes="384x384"/>
<link href="8bitcc_512x512.png" rel="apple-touch-icon" sizes="512x512"/>
<title>Kedro</title>

<style amp-boilerplate="">body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate="">body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<style amp-custom="">
        h1{font-weight:700}h1,h2,h3,h4,h5,h6{font-family:"Space Mono",monospace}h1{font-size:2.5em;font-family:"Space Mono",monospace;color:#6a65ca;color:#ff66c4}h2{font-size:1.63rem;color:#d68eba}h3{font-family:"Space Mono",monospace}p{font-family:"Space Mono",monospace;color:rgba(255,255,255,.6);font-size:21px;font-style:normal;font-variant:normal;font-weight:400;line-height:1.5}@media only screen and (max-width:700px){p{font-size:18px}}@media only screen and (max-width:600px){p{font-size:16px}}@media only screen and (max-width:500px){p{font-size:14px}}@media only screen and (max-width:400px){p{font-size:12px}}blockquote{font-family:"Space Mono",monospace}code{font-family:"Space Mono",monospace}pre{font-family:"Segoe UI",Frutiger,"Frutiger Linotype","Dejavu Sans","Helvetica Neue",Arial,sans-serif;font-family:"Space Mono",monospace;font-family:"Space Mono",monospace}a{font-family:"Space Mono",monospace;color:#6f6bae;text-decoration-color:goldenrod}*{box-sizing:border-box}*{font-family:"SF Mono",Monaco,Inconsolata,"Fira Mono","Droid Sans Mono","Source Code Pro",monospace}article,body,div,footer,header,hgroup,html,nav,section{position:relative;display:flex;align-items:center;flex-direction:column;flex-shrink:0}li,p,ul{margin:0;padding:0}p{margin-bottom:1rem}body,html{min-height:100vh;max-width:100%;width:100%;margin:0;padding:2rem;overflow-x:hidden;color:#fafafa;display:flex;padding:0;background-size:800px;min-height:100vh;background:#282c34;background:linear-gradient(81deg,#282c34 0,#3a2e3d 100%)}section{margin-bottom:5rem}h1{color:#ff66c4}ul.archive-list{box-shadow:0 0 2rem rgba(0,0,0,.3),-8rem -6rem 8rem -6rem rgba(253,221,88,.2),4rem 0 8rem rgba(88,82,185,.3),0 0 2rem -1.6rem rgba(255,215,70,.8);margin:0;padding:0;list-style-type:none;margin-top:1rem}li.post{margin:0;width:100%;list-style-type:none;border-width:1px;border-style:solid;border-image:linear-gradient(to right,#ff66c4,rgba(255,102,196,.2)) 1 0 0 0}li.post:nth-child(2n-1){background-color:rgba(255,255,255,.01);background-image:linear-gradient(22deg,rgba(255,255,255,0),rgba(255,255,255,.03))}li.post:nth-child(2n){background-color:rgba(0,0,0,.02);background-image:linear-gradient(22deg,rgba(0,0,0,0),rgba(0,0,0,.03))}li.post a{color:#fafafa;text-decoration:none}li.post h2,li.post p{max-width:800px;width:calc(100vw - 100px)}li.post h2,li.post p{margin-left:2rem;margin-right:2rem}li.post a:focus-visible h2,li.post:hover h2{color:#ff66c4}p{color:#d3d3d3}li.post a:focus-visible p,li.post:hover p{color:#fafafa}nav{padding:1rem 0;align-items:flex-end;max-width:1000px;width:100%}nav ul{list-style-type:none;display:flex}nav ul li{margin:0 .4rem}nav ul li a{text-align:center;color:#dcdcdc;text-decoration:none;padding:.5rem;margin-left:.1rem;margin-right:.1rem;align-items:flex-end}nav ul li a:focus-visible,nav ul li:hover a,ul.archive-tags li a:focus-visible,ul.archive-tags li:hover a{color:#ff66c4}ul.archive-tags{display:flex;justify-content:center;list-style-type:none;color:#dcdcdc;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:2rem;width:100%}ul.archive-tags li{padding:.2rem 1rem}ul.archive-tags li a{text-decoration:none;color:#fafafa}.social{display:flex}.social li{list-style-type:None}.social a{color:#daa520;padding:1rem .2rem}#cover-wrapper{z-index:2;width:100%;min-height:min(420px,100vw / 2.38)}#cover-wrapper img{width:calc(100% + 2rem);margin:-2rem}#title-wrapper{display:flex;justify-content:flex-end;align-items:flex-end;width:calc(100% + 2rem);left:-1rem;padding:8rem 1rem 0;margin-top:-8rem;margin-bottom:2.2rem;background:linear-gradient(149deg,#282c34 0,rgba(58,46,61,0) 100%);border-bottom:1px solid #daa520}#title-wrapper h1{margin-top:8rem;margin-bottom:0;word-break:break-all}#title-wrapper p{text-align:right;padding-left:0;margin-bottom:0;margin-top:0}#title-wrapper a{color:#daa520;text-decoration:none}#title-wrapper .h-card .content{display:flex;flex-direction:column;align-items:flex-end;margin:1rem 0}.p-note,.post-date{color:rgba(255,255,255,.2)}#title-wrapper a:focus-visible,#title-wrapper a:hover{color:#ff66c4}article.blog-post,div#post-body{display:block}article.blog-post .toc a{padding:.5rem}article.blog-post .toc li{margin:1rem}article.blog-post .toc ul{list-style-type:none;border:none;padding:0;margin:0 0 .5rem}article.blog-post div.toc{margin-bottom:1rem}article.blog-post div.toc:after{content:'';display:block;width:50%;border-bottom:1px solid #daa520}h2.toc{margin-bottom:1rem;text-align:center;color:rgba(255,255,255,.8)}.toc li{margin:1rem}.toc a{color:rgba(255,255,255,.5)}.toc a:focus-visible,.toc a:hover{color:#ff66c4}article.blog-post li>code,article.blog-post p>code{background:rgba(255,20,147,.075);padding:0 .2rem}article.blog-post{overflow:hidden;background:rgba(51,0,38,.13);background:hsla(234,33%,15%,.66);display:block;margin:.2rem;width:min(95vw,1000px);position:relative;margin:2rem 0;padding:1rem;padding-bottom:5rem;border-radius:2px;box-shadow:.2rem .2rem 1rem rgba(0,0,0,.2);flex-direction:column;align-items:flex-start;color:#f5f5f5}@media (max-width:650px){article.blog-post{width:100vw;width:min(100vw,1000px)}}@media (max-width:1200px){article.blog-post h1{font-size:2.5rem;padding:1rem}}@media (max-width:1200px){article.blog-post h2{padding-left:1rem}}@media (max-width:1200px){article.blog-post h3{padding-left:1.4rem}}@media (max-width:1200px){article.blog-post h4,article.blog-post h5,article.blog-post h6{padding-left:1.6rem}}@media (max-width:1200px){article.blog-post{margin:0;padding:0;margin:0}}article.blog-post p{margin:2rem .8rem}@media (max-width:1200px){article.blog-post p{margin:2rem .8rem}article.blog-post ol,article.blog-post ul{padding:1.2rem}}article.blog-post pre{margin-bottom:1rem;align-self:flex-start;max-width:calc(100vw - 20px);padding:10px;overflow-x:auto}article.blog-post .highlight{background:#282c34;padding:1rem;margin:0 -1rem;width:calc(100% + 2rem)}article.blog-post a{color:#6f6bae;text-decoration-color:#330026;text-decoration-color:goldenrod}@media (max-width:1200px){p>img{left:-.8rem}}p>img{position:relative;box-shadow:.2rem .2rem 1rem rgba(51,0,38,.4);max-width:1000px;width:95vw;align-self:center;justify-self:center;align-items:center;justify-items:center;margin:auto;left:-1.6rem}.center-img>img{max-width:600px;margin:.5rem}.center-img{display:flex;justify-content:center}strong{color:#d68fbb;display:inline-block;transform:rotate(-2deg)}em{color:#6f6bae;display:inline-block;transform:rotate(.2deg);background:rgba(255,255,255,.04);padding:.1rem .8rem}h2{margin-top:5rem}article.blog-post ul{border-left:1px solid #ff66c4;padding:.5rem 0 .025rem 3rem;margin:2rem}blockquote{color:#777;background:rgba(255,20,147,.05);border-left:2px solid #daa520;font-size:1rem;padding:1rem 0 1rem .5rem;margin:2rem 0}hr{border:none;border-top:1px solid #daa520;margin:5rem auto;background:0 0;width:min(600px,80%)}h1{margin-top:5rem}.tweet{display:flex;justify-content:flex-end;margin:1rem 0}.tweet a{display:inline-block;border-radius:5px;padding:.5rem 1rem;background:#645fc4;color:#fedd58;text-decoration:none;vertical-align:center}.share{max-width:800px;margin:.8rem auto;padding:1rem 2rem;display:flex;align-items:center;border:1px solid #d68fbb;background-color:rgba(214,143,187,.1);border-radius:5px}.share a{padding:.2rem .5rem}.share p{margin:0;padding:0;padding-right:.2rem}.share ul li{margin:0;padding:0}.shrare ul{display:flex;list-style-type:none;margin:0;padding:0;border:none;font-size:1.3rem}.post-body hr{border-top:2px solid rgba(218,165,32,.2);margin:3rem 40%}.h-card{border-radius:5px;display:flex;align-items:center;justify-content:flex-end}.h-card img{width:50px;border-radius:50%;margin:.2rem;display:none}.h-card ul.social{list-style-type:none;border:none;margin:0;padding:0}.social{display:flex}.social li{list-style-type:None}.social a{color:#daa520;padding:1rem .2rem}.h-card li{margin:0;padding:0}.toc{width:min(90vw,600px);margin:auto;position:initial;font-size:.8rem;line-height:1.1rem}.toc li{padding:0;margin:0}.toc li.H1,.toc li.H2{padding-top:.8rem}.toc li.H3{padding-left:.5rem}.toc li.H4{padding-left:1rem}.toc li.H5{padding-left:1.25rem}.toc li.H6{padding-left:1.5rem}@media (min-width:1500px){.toc{display:none}}.twitter-tweet{margin:10px auto}.onelinelink-wrapper{max-width:100vw}a.onelinelink{position:relative;left:2rem;background:#262236;margin:-6rem auto 1rem;border:2px solid rgba(255,50,50,.1);max-width:300px;border-radius:15px/45px;display:block;flex-direction:row}@media (max-width:350px){a.onelinelink{left:0;margin-left:.4rem;margin-right:.4rem}}@media (min-width:800px){a.onelinelink{max-width:600px;margin:auto}}@media (min-width:900px){a.onelinelink{max-width:700px}}@media (min-width:1000px){a.onelinelink{max-width:800px}}a.onelinelink{position:relative;z-index:2;margin:4rem;overflow:hidden;display:flex;border:2px solid rgba(255,50,50,.1);background:rgba(255,50,50,.015);background:#262236;text-decoration:none;border-radius:8px;max-height:126px}@media (max-width:800px){a.onelinelink{flex-direction:column;max-height:800px;max-width:300px;margin:4rem auto}}a.onelinelink h2{top:-1.2rem;postition:relative;margin:0;padding:0;font-size:.8rem;font-weight:400}a.onelinelink .right{width:calc(100% - 250px - 4rem);padding:5px 15px}@media (max-width:800px){a.onelinelink .right{width:auto}}a.onelinelink .description{font-size:1rem;line-height:1.2rem;height:calc(100% - 31px - 1rem);padding:0;padding-bottom:1rem;padding-top:.1rem;margin:0}a.onelinelink .url{padding-right:30px;color:rgba(255,255,255,.1);text-align:right;position:relative;z-index:2;background:#262236}a.onelinelink img{max-width:300px;max-height:126px;padding:0;margin:0;border-radius:8px 0 0 8px}a.onelinelink .read-more{font-size:.6rem;color:rgba(255,255,255,.08)}table{border-collapse:collapse;margin:auto}table,td,th{border:1px solid rgba(255,255,255,.4);min-width:5rem;padding:.2rem}.speed-control{display:flex;flex-direction:row;justify-content:center;margin-top:-.2rem;padding:1rem 0 .5rem;background:rgba(0,0,0,.3)}.speed-control button{margin:.4;transition:all .2s;border:.1rem solid #d3d3d3;color:#d3d3d3;background:0 0;text-align:center;padding:.35rem 1.2rem;margin:.1rem .5rem;border-radius:.12rem}.speed-control button:hover{color:#000;background:#d3d3d3}body::-webkit-scrollbar{width:1rem}@media (max-width:1000px){body::-webkit-scrollbar{width:.5rem}}@media (max-width:425px){body::-webkit-scrollbar{width:.25rem}}html{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:#5651B7}body::-webkit-scrollbar-track{background:#392e3d}body::-webkit-scrollbar-thumb{background-color:#5651b7;border-radius:.25rem;background:#706bd0;background:linear-gradient(180deg,#706bd0 0,#5651b7 100%);border:1px solid rgba(86j,81,183,.5)}
    </style>
<meta content="article" name="og:type" property="og:type"/><meta content="Waylon Walker" name="og:author" property="og:author"/><meta content="Waylon Walker" name="og:site_name" property="og:site_name"/><meta content="#322D39" name="theme-color"/><meta content="Waylon Walker" name="og:author" property="og:author"/><meta content="waylon@waylonwalaker.com" name="og:author_email" property="og:author_email"/><meta content="website" name="og:type" property="og:type"/><meta content="My Notes about using kedro" name="description" property="description"/><meta content="My Notes about using kedro" name="og:description" property="og:description"/><meta content="My Notes about using kedro" name="twitter:description" property="twitter:description"/><meta content="Kedro | Waylon Walker" name="og:title" property="og:title"/><meta content="Kedro | Waylon Walker" name="twitter:title" property="twitter:title"/><meta content="https://images.waylonwalker.com/kedro-og.png" name="og:image" property="og:image"/><meta content="https://images.waylonwalker.com/kedro-og.png" name="twitter:image" property="twitter:image"/><meta content="1600" name="og:image:width" property="og:image:width"/><meta content="900" name="og:image:width" property="og:image:width"/><meta content="summary_large_image" name="twitter:card" property="twitter:card"/><meta content="Waylon Walker" name="og:site_name" property="og:site_name"/><meta content="@_waylonwalker" name="twitter:creator" property="twitter:creator"/><meta content="Kedro" name="title" property="title"/><meta content="markata 0.1.0" name="generator" property="generator"/><script async src="https://cdn.ampproject.org/v0.js"></script><link href="https://waylonwalker.com/kedro/" rel="canonical"/><meta content="https://waylonwalker.com/kedro/" name="og:url" property="og:url"/></head>
<body>
<nav>
<ul>
<li><a href="/">Home</a></li>
<li><a href="/archive/">Archive</a></li>
<li>
<a aria-label="RSS" href="/rss.xml">
<svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
</path>
</svg>
</a>
</li>
</ul>
</nav>
<article class="blog-post h-entry">
<!-- <div id='cover-wrapper'>
      <img src='/kedro.webp' alt='cover image for article' />
    </div> -->
<div id="title-wrapper">
<a class="u-url" href="https://waylonwalker.com/kedro/">
<h1 class="flair" id="title" style="text-align:right;z-index:2;padding-right:.2rem">Kedro
                </h1>
</a>
<p><time class="dt-published post-date" datetime="2019-11-02" style="text-align:right;z-index:2">2019-11-02</time>
</p>
<div class="h-card p-author" rel="author">
<div class="content">
<a class="p-name u-url" href="https://waylonwalker.com/">
<p>
<span class="p-given-name">Waylon</span>
<span class="p-family-name">Walker</span>
</p>
</a>
<p class="p-note">Learning in Public <a href="https://twitter.com/_WaylonWalker">@waylonwalker</a></p>
</div>
</div>
<!-- edit -->
<p><a href="https://github.com/WaylonWalker/waylonwalker.com/edit/main/pages/blog/kedro.md" title="edit this post">edit<span aria-label="" role="img">✏️</span></a></p>
</div>
<!-- <h2 class='toc'>toc</h2> -->
<!-- -->
<div id="amp-message">
<p style="background: rgba(0,0,0,0.1); padding: .5rem 3rem; margin: 2rem 0rem;">
          ⚡ You've discovered an amp page, if you bump into any issues such as
          syntax highlighting feel free to jump to the <a href="https://waylonwalker.com/kedro/">normal page</a>
</p>
</div>
<div id="post-body">
<h2 id="kedrotips"><a href="https://twitter.com/search?q=%23kedrotips&amp;f=live">#kedrotips</a></h2>
<p>I am tweeting out most of these snippets as I add them, you can find them all here <a href="https://twitter.com/search?q=%23kedrotips">#kedrotips</a>.</p>
<h2 id="heads-up">🗣 Heads up</h2>
<p>Below are some quick snippets/notes for when using kedro to build data pipelines. So far I am just compiling snippets. Eventually I will create several posts on kedro. These are mostly things that I use In my everyday with kedro. Some are a bit more essoteric. Some are helpful when writing production code, some are useful more usefule for exploration.</p>
<h2 id="catalog">📚 Catalog</h2>
<p><amp-img height="500" layout="responsive" src="https://images.waylonwalker.com/jesse-orrico-h6xNSDlgciU-unsplash.jpg" width="500"></amp-img>
<em>Photo by jesse orrico on Unsplash</em></p>
<h3 id="csvlocaldataset">CSVLocalDataSet</h3>
<p><strong>python</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B</span><span class="si">%20c</span><span class="s1">ookiecutter.repo_name</span><span class="si">%20%</span><span class="s1">7D%7D/data/01_raw/iris.csv'</span><span class="p">)</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">CSVLocalDataSet</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">"test.csv"</span><span class="p">,</span>
                                 <span class="n">load_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                 <span class="n">save_args</span><span class="o">=</span><span class="p">{</span><span class="s2">"index"</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>

<span class="n">iris_data_set</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="n">reloaded_iris</span> <span class="o">=</span> <span class="n">iris_data_set</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</code></pre></div>
<p><strong>yaml</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">test_data</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CSVLocalDataset</span><span class="w"></span>
<span class="w">   </span><span class="nt">filepath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test.csv</span><span class="w"></span>
<span class="w">   </span><span class="nt">load_args</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">   </span><span class="nt">save_args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">index</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span><span class="w"></span>
</code></pre></div>
<h2 id="csvhttpdataset">CSVHTTPDataSet</h2>
<div class="highlight"><pre><span></span><code><span class="n">cities</span> <span class="o">=</span> <span class="n">CSVHTTPDataSet</span><span class="p">(</span>
    <span class="n">fileurl</span><span class="o">=</span><span class="s2">"https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B</span><span class="si">%20c</span><span class="s2">ookiecutter.repo_name</span><span class="si">%20%</span><span class="s2">7D%7D/data/01_raw/iris.csv"</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">load_args</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">iris_data_set</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">cities</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CSVHTTPDataSet</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">fileurl</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://people.sc.fsu.edu/~jburkardt/data/csv/cities.csv</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">auth</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">load_args</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
</code></pre></div>
<h2 id="hdflocaldataset">HDFLocalDataSet</h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">kedro.io</span> <span class="kn">import</span> <span class="n">HDFLocalDataSet</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B</span><span class="si">%20c</span><span class="s1">ookiecutter.repo_name</span><span class="si">%20%</span><span class="s1">7D%7D/data/01_raw/iris.csv'</span><span class="p">)</span>
<span class="n">iris_data_set</span> <span class="o">=</span> <span class="n">HDFLocalDataSet</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">"iris.hdf"</span><span class="p">,</span>
                           <span class="n">key</span><span class="o">=</span><span class="s2">"test_hdf_key"</span><span class="p">,</span>
                           <span class="n">load_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">save_args</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">iris_data_set</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="n">reloaded_iris</span> <span class="o">=</span> <span class="n">iris_data_set</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">cars</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HDFLocalDataSet</span><span class="w"></span>
<span class="w">   </span><span class="nt">filepath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test.hdf</span><span class="w"></span>
<span class="w">   </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_hdf_key</span><span class="w"></span>
</code></pre></div>
<h2 id="hdfs3localdataset">HDFS3LocalDataSet</h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">kedro.io</span> <span class="kn">import</span> <span class="n">HDFS3DataSet</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B</span><span class="si">%20c</span><span class="s1">ookiecutter.repo_name</span><span class="si">%20%</span><span class="s1">7D%7D/data/01_raw/iris.csv'</span><span class="p">)</span>
<span class="n">iris_data_set</span> <span class="o">=</span> <span class="n">HDFS3DataSet</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">"iris.hdf"</span><span class="p">,</span>
                        <span class="n">bucket_name</span><span class="o">=</span><span class="s2">"bucket-us-west-1"</span><span class="p">,</span>
                        <span class="n">key</span><span class="o">=</span><span class="s2">"test_hdf_key"</span><span class="p">,</span>
                        <span class="n">load_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">save_args</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">iris_data_set</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="n">reloaded_iris</span> <span class="o">=</span> <span class="n">iris_data_set</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">cars</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HDFS3DataSet</span><span class="w"></span>
<span class="w">   </span><span class="nt">filepath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cars.hdf</span><span class="w"></span>
<span class="w">   </span><span class="nt">bucket_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bucket-us-west-1</span><span class="w"></span>
<span class="w">   </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_hdf_key</span><span class="w"></span>
</code></pre></div>
<h2 id="jsonlocaldataset">JSONLocalDataSet</h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">kedro.io</span> <span class="kn">import</span> <span class="n">JSONLocalDataSet</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B</span><span class="si">%20c</span><span class="s1">ookiecutter.repo_name</span><span class="si">%20%</span><span class="s1">7D%7D/data/01_raw/iris.csv'</span><span class="p">)</span>
<span class="n">cars</span> <span class="o">=</span> <span class="n">JSONLocalDataSet</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">"iris.json"</span><span class="p">,</span>
                        <span class="n">load_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">save_args</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">iris_data_set</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="n">reloaded_iris</span> <span class="o">=</span> <span class="n">iris_data_set</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">cars</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">JSONLocalDataSet</span><span class="w"></span>
<span class="w">   </span><span class="nt">filepath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iris.json</span><span class="w"></span>
</code></pre></div>
<h2 id="parquetlocaldataset">ParquetLocalDataSet</h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">kedro.io</span> <span class="kn">import</span> <span class="n">ParquetLocalDataSet</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B</span><span class="si">%20c</span><span class="s1">ookiecutter.repo_name</span><span class="si">%20%</span><span class="s1">7D%7D/data/01_raw/iris.csv'</span><span class="p">)</span>

<span class="n">iris_data_set</span> <span class="o">=</span> <span class="n">ParquetLocalDataSet</span><span class="p">(</span><span class="s1">'iris'</span><span class="p">,</span>
                           <span class="n">engine</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">,</span>
                           <span class="n">load_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">save_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">iris_data_set</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="n">reloaded_iris</span> <span class="o">=</span> <span class="n">iris_data_set</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">cars</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">JSONLocalDataSet</span><span class="w"></span>
<span class="w">   </span><span class="nt">filepath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cars</span><span class="w"></span>
</code></pre></div>
<p>PickleS3DataSet</p>
<p>SQLTableDataSet</p>
<p>SQLQueryDataSet</p>
<p>TextLocalDataSet</p>
<p>ExcelLocalDataSet</p>
<h2 id="loading-data">⏳ Loading Data</h2>
<p><amp-img height="500" layout="responsive" src="https://images.waylonwalker.com/battlecreek-coffee-roasters-eg6OUchGCsw-unsplash.jpg" width="500"></amp-img>
<em>Photo by Battlecreek Coffee Roasters on Unsplash</em></p>
<h3 id="simple-loading">Simple Loading</h3>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">)</span>
</code></pre></div>
<h3 id="list-all-datasets">list all datasets</h3>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</code></pre></div>
<h3 id="saving-data">Saving Data</h3>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">,</span> <span class="n">cars</span><span class="p">)</span>
</code></pre></div>
<h3 id="finding-data">🔍 Finding data</h3>
<p><strong>simple keyword search</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">query</span> <span class="o">=</span> <span class="s1">'raw'</span>
<span class="p">[</span><span class="n">data</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">catalog</span><span class="o">.</span><span class="n">list</span><span class="p">()</span> <span class="k">if</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
</code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1197130980659732480?s=20"><em>#kedrotips</em></a></p>
<p><strong>multi keyword serch</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">query</span> <span class="o">=</span> <span class="s1">'raw sales'</span>
<span class="n">data_sets</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="n">data_sets</span> <span class="o">=</span> <span class="p">[</span>
       <span class="n">data</span>
       <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_sets</span>
       <span class="k">if</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">data</span>
       <span class="p">]</span>
</code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1197528461587419139?s=20"><em>#kedrotips</em></a></p>
<p><strong>🐒 monkey patch it</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="o">*</span><span class="n">search_terms</span><span class="p">):</span>
     <span class="n">data_sets</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
     <span class="k">for</span> <span class="n">search</span> <span class="ow">in</span> <span class="n">search_terms</span><span class="p">:</span>
         <span class="n">data_sets</span> <span class="o">=</span> <span class="p">[</span>
         <span class="n">data</span>
         <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_sets</span>
         <span class="k">if</span> <span class="n">search</span> <span class="ow">in</span> <span class="n">data</span>
         <span class="p">]</span>
     <span class="k">return</span> <span class="n">data_sets</span>

<span class="n">catalog</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span>
</code></pre></div>
<p>_see on <a href="https://twitter.com/_WaylonWalker/status/1197855759507300352?s=20">#kedrotips</a></p>
<h3 id="yolo">🤙 YOLO</h3>
<p><em>You Only Load Once</em></p>
<p><strong>simple</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span>
        <span class="n">catalog</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">'c_pri'</span><span class="p">,</span> <span class="s1">'cars'</span><span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
<p><strong>more refined</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="n">d</span><span class="p">:</span> <span class="n">catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">catalog</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">'c_pri'</span><span class="p">,</span> <span class="s1">'cars'</span><span class="p">)</span>
   <span class="p">}</span>
</code></pre></div>
<p><strong>🍷 refined like a fine wine</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">SimpleNamespace</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">SimpleNamespace</span><span class="o">**</span><span class="p">{</span>
   <span class="n">d</span><span class="p">:</span> <span class="n">catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">catalog</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">'c_pri'</span><span class="p">,</span> <span class="s1">'cars'</span><span class="p">)</span>
   <span class="p">})</span>
</code></pre></div>
<p><strong>🧀 Make it a function</strong>
<em>getting funcy</em></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">SimpleNamespace</span>

<span class="k">def</span> <span class="nf">yolo</span><span class="p">(</span><span class="o">*</span><span class="n">search_terms</span><span class="p">):</span>
   <span class="sd">"""you only load once</span>
<span class="sd">   using query method from previous tip"""</span>
   <span class="n">data</span> <span class="o">=</span> <span class="n">SimpleNamespace</span><span class="p">(</span><span class="o">**</span><span class="p">{</span>
       <span class="n">d</span><span class="p">:</span> <span class="n">catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">catalog</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="o">*</span><span class="n">search_terms</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="n">data</span>

<span class="n">all_pri</span> <span class="o">=</span> <span class="n">yolo</span><span class="p">(</span><span class="s1">'c_pri'</span><span class="p">)</span>
</code></pre></div>
<p><strong>🐒 monkey patch it</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="n">catalog</span><span class="o">.</span><span class="n">yolo</span> <span class="o">=</span> <span class="n">yolo</span>
<span class="n">catalog</span><span class="o">.</span><span class="n">yolo</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">"you only load once"</span>

<span class="n">all_pri</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">yolo</span><span class="p">(</span><span class="s1">'c_pri'</span><span class="p">)</span>
</code></pre></div>
<h3 id="adding-catalogs-together">adding catalogs together</h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">kedro.io</span> <span class="kn">import</span> <span class="n">DataCatalog</span>
<span class="n">DataCatalog</span><span class="p">({</span><span class="o">**</span><span class="n">cat1</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">'_data_sets'</span><span class="p">],</span> <span class="o">**</span><span class="n">cat2</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">'_data_sets'</span><span class="p">]})</span>
</code></pre></div>
<h2 id="building-pipelines">🛢 Building pipelines</h2>
<p><amp-img height="500" layout="responsive" src="https://images.waylonwalker.com/roman-pentin-T5QT2bmiD4E-unsplash.jpg" width="500"></amp-img>
<em>Photo by roman pentin on Unsplash</em></p>
<h3 id="creating-nodes">📍 Creating Nodes</h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">kedro.pipeline</span> <span class="kn">import</span> <span class="n">node</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">inputs</span><span class="o">=</span><span class="s1">'raw_cars'</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="s1">'int_cars'</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">kedro.pipeline</span> <span class="kn">import</span> <span class="n">node</span>

<span class="k">def</span> <span class="nf">drop_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">columns</span><span class="p">):</span>
   <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">df</span>

<span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">(</span>
   <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">drop_columns</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">'vs'</span><span class="p">,</span> <span class="s1">'am'</span><span class="p">,</span> <span class="s1">'gear'</span><span class="p">,</span> <span class="s1">'carb'</span><span class="p">),</span>
   <span class="n">inputs</span><span class="o">=</span><span class="s1">'int_cars'</span><span class="p">,</span>
   <span class="n">outputs</span><span class="o">=</span><span class="s1">'pri_cars'</span>
   <span class="p">)</span>
</code></pre></div>
<h3 id="creating-a-pipeline">🛢 Creating a pipeline</h3>
<h3 id="dont-be-so-verbose">Don't be so verbose</h3>
<p>Create similar nodes dynamically</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">halve_dataframe</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
   <span class="sd">""" splits a dataframe in half """</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array_split</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">nodes</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">datasets</span> <span class="o">=</span> <span class="p">[</span>
   <span class="s1">'cars'</span><span class="p">,</span> <span class="s1">'trucks'</span><span class="p">,</span> <span class="s1">'boats'</span><span class="p">,</span> <span class="s1">'motorcycles'</span><span class="p">,</span> <span class="s1">'planes'</span><span class="p">,</span>
   <span class="s1">'ships'</span><span class="p">,</span> <span class="s1">'busses'</span><span class="p">,</span> <span class="s1">'trains'</span><span class="p">,</span> <span class="s1">'subways'</span>
   <span class="p">]</span>

<span class="c1"># creates a pipeline node for every dataset in the datasets list</span>
<span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">datasets</span>
   <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
       <span class="n">node</span><span class="p">(</span><span class="n">halve_dataframe</span><span class="p">,</span>
            <span class="s1">'e_modin_</span><span class="si">{dataset}</span><span class="s1">'</span><span class="p">,</span>
            <span class="p">[</span><span class="s1">'train_</span><span class="si">{dataset}</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'test_</span><span class="si">{dataset}</span><span class="s1">'</span><span class="p">]),</span>
   <span class="p">)</span>
</code></pre></div>
<h2 id="running-pipelines">🏃‍♂️ Running Pipelines</h2>
<p><amp-img height="500" layout="responsive" src="https://images.waylonwalker.com/rodion-kutsaev-xNdPWGJ6UCQ-unsplash.jpg" width="500"></amp-img>
<em>Photo by Rodion Kutsaev on Unsplash</em></p>
<p><strong>🔖 filter by tags</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">)</span>
</code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1195319044808888321?s=20"><em>#kedrotips</em></a></p>
<p><strong>filter by node</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes</span><span class="p">(</span><span class="s1">'b_int_cars'</span><span class="p">)</span>
</code></pre></div>
<p>_see on <a href="https://twitter.com/_WaylonWalker/status/1196406204479737856?s=20">#kedrotips</a></p>
<p><strong>filter nodes like</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">query_string</span> <span class="o">=</span> <span class="s1">'cars'</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span>
   <span class="n">node</span><span class="o">.</span><span class="n">name</span>
   <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">nodes</span>
   <span class="k">if</span> <span class="n">query_string</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">name</span>
   <span class="p">]</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes</span><span class="p">(</span><span class="o">*</span><span class="n">nodes</span><span class="p">)</span>
</code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1196813895228428288?s=20"><em>#kedrotips</em></a></p>
<p><strong>only nodes with tags</strong> <em>or</em></p>
<div class="highlight"><pre><span></span><code><span class="n">nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">,</span> <span class="s1">'trains'</span><span class="p">)</span>
</code></pre></div>
<p><strong>only nodes with tags</strong> <em>and</em></p>
<div class="highlight"><pre><span></span><code><span class="n">raw_nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'raw'</span><span class="p">)</span>
<span class="n">car_nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">)</span>
<span class="n">raw_car_nodes</span> <span class="o">=</span> <span class="n">raw_nodes</span> <span class="o">&amp;</span> <span class="n">car_nodes</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">raw_nodes</span> <span class="o">=</span> <span class="p">(</span>
   <span class="n">pipeline</span>
   <span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'raw'</span><span class="p">)</span>
   <span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">)</span>
   <span class="p">)</span>
</code></pre></div>
<p><strong>add pipelines</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">car_nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">)</span>
<span class="n">train_nodes</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'trains'</span><span class="p">)</span>
<span class="n">transportation_nodes</span> <span class="o">=</span> <span class="n">car_nodes</span> <span class="o">+</span> <span class="n">train_nodes</span>
</code></pre></div>
<p><strong>ensure nodes are attached</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">cars_attached</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span>
   <span class="n">pipeline</span>
   <span class="o">.</span><span class="n">only_nodes_with_tags</span><span class="p">(</span><span class="s1">'cars'</span><span class="p">)</span>
   <span class="o">.</span><span class="n">grouped_nodes</span>
   <span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div>
<h3 id="pipeline-decorators">🎂 Pipeline Decorators</h3>
<p><a href="https://kedro.readthedocs.io/en/latest/_modules/kedro/pipeline/decorators.html#log_time">example - log_time</a></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">kedro.pipeline.decorators</span> <span class="kn">import</span> <span class="n">log_time</span><span class="p">,</span> <span class="n">mem_profile</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">decorate</span><span class="p">(</span><span class="n">log_running_time</span><span class="p">)</span>
</code></pre></div>
<h2 id="pipeline-io">Pipeline IO</h2>
<p><code>pipleine.all_inputs()</code> and <code>pipeline.all_outputs()</code> return sets of pipeline inputs and outputs and you can do set operations on them.  This is particularly useful to find the upper and lower edges of your pipeline or subset of pipeline.  The pipeline object here is any <code>kedro</code> pipeline including a filtered subset.</p>
<h3 id="find-all-raw-data">Find all raw data</h3>
<div class="highlight"><pre><span></span><code><span class="n">pipeline</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">()</span> <span class="o">-</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">all_outputs</span><span class="p">()</span>
</code></pre></div>
<h3 id="find-all-final-data">Find all final data</h3>
<div class="highlight"><pre><span></span><code><span class="n">pipeline</span><span class="o">.</span><span class="n">all_outputs</span><span class="p">()</span> <span class="o">-</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">()</span>
</code></pre></div>
<h3 id="find-all-nodes-that-do-not-raw">Find all nodes that do not raw</h3>
<p>This one is probably one that is pushing the limits of what I would do in a list comprehension that I use in prod or even put into a text editor, but I commonly use ipython for my adhoc work and keeping it all in one line is very handy.  Complex list comprehensions kinda start becoming like regex in a way that they are really easy to write and really hard to read.  I don't think this one quite hits that point but its getting close.</p>
<p>I find this one super useful to help me either move data beween environments, or avoid unnecessary database calls.</p>
<div class="highlight"><pre><span></span><code><span class="n">raw_inputs</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">()</span> <span class="o">-</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">all_outputs</span><span class="p">()</span>
<span class="n">raw_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">nodes</span> <span class="k">if</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">raw_inputs</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">inputs</span><span class="p">)]</span> <span class="o">!=</span> <span class="p">[]]</span>
</code></pre></div>
<div class="prevnext">

<a class="prev" href="/kedro-basics">
<svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
<path d="M13.5 8.25L9.75 12L13.5 15.75" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"> </path>
</svg>
<div class="prevnext-text">
<p class="prevnext-subtitle">prev</p>
<p class="prevnext-title">Kedro Basics</p>
</div>
</a>
<a class="next" href="/jut">
<div class="prevnext-text">
<p class="prevnext-subtitle">next</p>
<p class="prevnext-title">JUT | Read Notebooks in the Terminal</p>
</div>
<svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
<path d="M10.5 15.75L14.25 12L10.5 8.25" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
</svg>
</a>
</div>
</div>
<hr/>
<div id="show">
</div>
</article>
<h2>Socials</h2>
<ul class="social">
<li>
<a href="https://twitter.com/_WaylonWalker">twitter</a>
</li>
<li>
<a href="https://www.linkedin.com/in/waylonwalker/">LinkedIn</a>
</li>
<li>
<a href="https://github.com/WaylonWalker">GitHub</a>
</li>
<li>
<a href="https://dev.to/waylonwalker">Dev.to</a>
</li>
<li>
<a href="https://www.twitch.tv/waylonwalker">twitch</a>
</li>
</ul>
</body>
</html>