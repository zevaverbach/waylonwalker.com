<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <link href="/8bitcc.ico" rel="icon" type="image/png"/>
  <link href="https://waylonwalker.com/avoid-nesting-loops-in-python/amp/" rel="amphtml"/>
  <meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
  <!-- <link rel='stylesheet' href='/fonts.css' />
  <link rel='stylesheet' href='/archive-styles.css' />
  <link rel='stylesheet' href='/article.css' /> -->
  <link href="/main.min.css" rel="stylesheet"/>
  <link as="style" href="/one-dark.min.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
  <link as="style" href="/furo-purge.min.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
  <!-- <link rel="preload" href="/scroll.css" as="style" onload="this.onload=null;this.rel='stylesheet'"> -->
  <noscript>
   <!-- <link rel='stylesheet' href='/scroll.css' /> -->
   <link href="/one-dark.min.css" rel="stylesheet"/>
   <link href="/furo-purge.min.css" rel="stylesheet"/>
  </noscript>
  <link href="8bitcc_48x48.png" rel="apple-touch-icon" sizes="48x48"/>
  <link href="8bitcc_72x72.png" rel="apple-touch-icon" sizes="72x72"/>
  <link href="8bitcc_96x96.png" rel="apple-touch-icon" sizes="96x96"/>
  <link href="8bitcc_144x144.png" rel="apple-touch-icon" sizes="144x144"/>
  <link href="8bitcc_192x192.png" rel="apple-touch-icon" sizes="192x192"/>
  <link href="8bitcc_256x256.png" rel="apple-touch-icon" sizes="256x256"/>
  <link href="8bitcc_384x384.png" rel="apple-touch-icon" sizes="384x384"/>
  <link href="8bitcc_512x512.png" rel="apple-touch-icon" sizes="512x512"/>
  <title>
   Avoid Nesting Loops in Python
  </title>
  <meta content="article" name="og:type" property="og:type"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="#322D39" name="theme-color"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="waylon@waylonwalaker.com" name="og:author_email" property="og:author_email"/>
  <meta content="website" name="og:type" property="og:type"/>
  <meta content="Nesting loops inside of each other in python makes for much harder code to understand, it takes more brain power to understand, and is thus more error prone tha" name="description" property="description"/>
  <meta content="Nesting loops inside of each other in python makes for much harder code to understand, it takes more brain power to understand, and is thus more error prone tha" name="og:description" property="og:description"/>
  <meta content="Nesting loops inside of each other in python makes for much harder code to understand, it takes more brain power to understand, and is thus more error prone tha" name="twitter:description" property="twitter:description"/>
  <meta content="Avoid Nesting Loops in Python | Waylon Walker" name="og:title" property="og:title"/>
  <meta content="Avoid Nesting Loops in Python | Waylon Walker" name="twitter:title" property="twitter:title"/>
  <meta content="https://images.waylonwalker.com/avoid-nesting-loops-in-python-og.png" name="og:image" property="og:image"/>
  <meta content="https://images.waylonwalker.com/avoid-nesting-loops-in-python-og.png" name="twitter:image" property="twitter:image"/>
  <meta content="1600" name="og:image:width" property="og:image:width"/>
  <meta content="900" name="og:image:width" property="og:image:width"/>
  <meta content="summary_large_image" name="twitter:card" property="twitter:card"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="@_waylonwalker" name="twitter:creator" property="twitter:creator"/>
  <meta content="Avoid Nesting Loops in Python" name="title" property="title"/>
  <meta content="markata 0.1.0" name="generator" property="generator"/>
  <link href="https://waylonwalker.com/avoid-nesting-loops-in-python/" rel="canonical"/>
  <meta content="https://waylonwalker.com/avoid-nesting-loops-in-python/" name="og:url" property="og:url"/>
  <link href="/manifest.json" rel="manifest"/>
  <meta content="https://images.waylonwalker.com/avoid-nesting-loops-in-python-og_250x140.png" name="og:sm_image" property="og:sm_image"/>
  <meta content="https://images.waylonwalker.com/avoid-nesting-loops-in-python-og_250x140.png" name="og:sm_image" property="og:sm_image"/>
 </head>
 <body>
  <nav>
   <ul>
    <li>
     <a href="/">
      Home
     </a>
    </li>
    <li>
     <a href="/archive/">
      Archive
     </a>
    </li>
    <li>
     <a aria-label="RSS" href="/rss.xml">
      <svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
       <path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
       </path>
      </svg>
     </a>
    </li>
   </ul>
  </nav>
  <article class="blog-post h-entry">
   <!-- <div id='cover-wrapper'>
      <img src='/avoid-nesting-loops-in-python.webp' alt='cover image for article' />
    </div> -->
   <div id="title-wrapper">
    <a class="u-url" href="https://waylonwalker.com/avoid-nesting-loops-in-python/">
     <h1 class="flair" id="title" style="text-align:right;z-index:2;padding-right:.2rem">
      Avoid Nesting Loops in Python
     </h1>
    </a>
    <p>
     <time class="dt-published post-date" datetime="2020-10-11" style="text-align:right;z-index:2">
      2020-10-11
     </time>
    </p>
    <div class="h-card p-author" rel="author">
     <div class="content">
      <a class="p-name u-url" href="https://waylonwalker.com/">
       <p>
        <span class="p-given-name">
         Waylon
        </span>
        <span class="p-family-name">
         Walker
        </span>
       </p>
      </a>
      <p class="p-note">
       Learning in Public
       <a href="https://twitter.com/_WaylonWalker">
        @_WaylonWalker
       </a>
      </p>
     </div>
    </div>
    <!-- edit -->
    <p>
     <a alt="edit post url" href="https://github.com/WaylonWalker/waylonwalker.com/edit/main/pages/blog/avoid-nesting-loops-in-python.md" title="edit this post">
      edit
      <span aria-label="" role="img">
       ✏️
      </span>
     </a>
    </p>
   </div>
   <!-- <h2 class='toc'>toc</h2> -->
   <!-- <div class="toc">
<ul>
<li><a href="#its-still-early">It's still early</a></li>
<li><a href="#on-to-the-devtools">On to the devtools</a></li>
<li><a href="#why-does-textual-need-its-own-devtools">Why does textual need its own devtools</a></li>
<li><a href="#getting-the-css-branch">getting the css branch</a></li>
<li><a href="#install-in-a-virtual-environment">install in a virtual environment</a></li>
<li><a href="#now-that-we-have-textual-installed">Now that we have textual installed</a></li>
</ul>
</div>
 -->
   <div id="post-body">
    <p>
     Nesting loops inside of each other in python makes for much harder code to understand, it takes more brain power to understand, and is thus more error prone than if its avoidable.  One issue with this complexity is that toy examples may make sense, but most real example will grow and become more deeply nested over time.  Avoiding this complexity from the start can help simplify the project in the future.
    </p>
    <h2 id="setup">
     setup
     <a alt="id" class="heading-permalink" href="#setup" title="link to #setup">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Lets take a pretty simple example where we are using a ficticious library to get some sales data for our transportation company.  The api allows us to fetch teh sales data for one class of vehicle and one region at a time.
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">datastore</span> <span class="kn">import</span> <span class="n">get_sales</span>  <span class="c1"># ficticious library</span>

<span class="n">cars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'hatchback'</span><span class="p">]</span>
<span class="n">regions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'US'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'MX'</span><span class="p">]</span>
</code></pre>
    </div>
    <h2 id="nesting-loops">
     ❌ Nesting Loops
     <a alt="id" class="heading-permalink" href="#nesting-loops" title="link to #nesting-loops">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     We have setup to fetch our data with two lists that represent the vehicles and regions that we want to analyze.  We know that we need to make a call to
     <code>
      get_sales
     </code>
     for every vehicle and region so nesting loops is a very common first solution to jump to.
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">sales</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">car</span> <span class="ow">in</span> <span class="n">cars</span><span class="p">:</span>
   <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">regions</span><span class="p">:</span>
      <span class="n">new_sales</span> <span class="o">=</span> <span class="n">get_sales</span><span class="p">(</span><span class="n">car</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>
      <span class="n">sales</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">sales</span><span class="p">,</span> <span class="n">new_sales</span><span class="p">])</span>
</code></pre>
    </div>
    <h2 id="itertoolsproduct">
     itertools.product
     <a alt="id" class="heading-permalink" href="#itertoolsproduct" title="link to #itertoolsproduct">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Python provides us with the beautiful itertools module that allows us to prepare our inputs for this in a much more susynct manner.  The product function of itertools will give us every combination of any number of iterables
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="kn">import</span> <span class="nn">itertools</span>
<span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">cars</span><span class="p">,</span> <span class="n">regions</span><span class="p">))</span>
</code></pre>
    </div>
    <blockquote>
     <p>
      note that itertools returns a generator for most if not all functions, list() will turn that into a list that we can see.  This works great for small datasets, but might not be advisable on larger ones.
     </p>
    </blockquote>
    <p>
     <strong>
      output
     </strong>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="p">[(</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'US'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'MX'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'US'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'MX'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'hatchback'</span><span class="p">,</span> <span class="s1">'US'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'hatchback'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">'hatchback'</span><span class="p">,</span> <span class="s1">'MX'</span><span class="p">)]</span>
</code></pre>
    </div>
    <h2 id="itertoolsprocuct-for-loop">
     itertools.procuct for loop
     <a alt="id" class="heading-permalink" href="#itertoolsprocuct-for-loop" title="link to #itertoolsprocuct-for-loop">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Now that we have every comination of our two sets of inputs in a single list, we can iterate over that list one time.
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">sales</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">car</span><span class="p">,</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">cars</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
   <span class="n">new_sales</span> <span class="o">=</span> <span class="n">get_sales</span><span class="p">(</span><span class="n">car</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>
   <span class="n">sales</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">sales</span><span class="p">,</span> <span class="n">new_sales</span><span class="p">])</span>
</code></pre>
    </div>
    <h2 id="itertoolsproduct-list-comprehension">
     itertools.product list comprehension
     <a alt="id" class="heading-permalink" href="#itertoolsproduct-list-comprehension" title="link to #itertoolsproduct-list-comprehension">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     The above follows a python anti-pattern, initialize then edit.  In some cases it might be a bit more readable to do it that way, you can be the judge, but in our simple case we can simply achieve the same results using a list comprehension.
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">get_sales</span><span class="p">(</span><span class="n">cars</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span> <span class="k">for</span> <span class="n">cars</span><span class="p">,</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">cars</span><span class="p">,</span> <span class="n">regions</span><span class="p">)])</span>
</code></pre>
    </div>
    <h2 id="dictionaries">
     dictionaries
     <a alt="id" class="heading-permalink" href="#dictionaries" title="link to #dictionaries">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <div class="highlight">
     <pre><span></span><code><span class="n">sales_args</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">'cars'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'hatchback'</span><span class="p">],</span>
   <span class="s1">'regions'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'US'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'MX'</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">get_sales</span><span class="p">(</span><span class="o">*</span><span class="n">sales_arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">sales_arg</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">sales_args</span><span class="o">.</span><span class="n">values</span><span class="p">())])</span>
</code></pre>
    </div>
    <div class="highlight">
     <pre><span></span><code><span class="n">sales_args</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">'cars'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'hatchback'</span><span class="p">],</span>
   <span class="s1">'regions'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'US'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'MX'</span><span class="p">],</span>
   <span class="s1">'month'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'MAR'</span><span class="p">,</span> <span class="s1">'APR'</span><span class="p">,</span> <span class="s1">'MAY'</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">get_sales</span><span class="p">(</span><span class="o">*</span><span class="n">sales_arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">sales_arg</span> <span class="ow">in</span> <span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">sales_args</span><span class="o">.</span><span class="n">values</span><span class="p">())])</span>
</code></pre>
    </div>
    <hr/>
    <h2 id="chaining">
     Chaining
     <a alt="id" class="heading-permalink" href="#chaining" title="link to #chaining">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     <em>
      containers of containers
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">vehicles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'cars'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'sedan'</span><span class="p">,</span> <span class="s1">'coupe'</span><span class="p">,</span> <span class="s1">'hatchback'</span><span class="p">],</span>
    <span class="s1">'trucks'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'light'</span><span class="p">,</span> <span class="s1">'heavy'</span><span class="p">,</span> <span class="s1">'sport'</span><span class="p">,</span> <span class="s1">'offroad'</span><span class="p">],</span>
    <span class="s1">'van'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'box'</span><span class="p">,</span> <span class="s1">'mini'</span><span class="p">,</span> <span class="s1">'full'</span><span class="p">,</span> <span class="p">],</span>

<span class="p">}</span>
</code></pre>
    </div>
    <div class="highlight">
     <pre><span></span><code>for vehicle in vehicles:
    for sub_class in vehicles[vehicle]:
      new_sales = get_sales(sub_class)
      new_sales['sub_class'] = sub_class
      new_sales['vehicle'] = vehicle
      sales = pd.concat([sales, new_sales])
</code></pre>
    </div>
    <div class="highlight">
     <pre><span></span><code> list(itertools.chain(*[list(itertools.product([k], v)) for k, v in vehicles.items()]))
</code></pre>
    </div>
    <p>
     output
     <code>
      [('cars', 'sedan'),
 ('cars', 'coupe'),
 ('cars', 'hatchback'),
 ('trucks', 'light'),
 ('trucks', 'heavy'),
 ('trucks', 'sport'),
 ('trucks', 'offroad'),
 ('van', 'box'),
 ('van', 'mini'),
 ('van', 'full')]
     </code>
    </p>
    <div class="prevnext">
     <style type="text/css">
      :root {
      --prevnext-color-text: #eefbfe;
      --prevnext-color-angle: #ff66c4;
      --prevnext-subtitle-brightness: 3;
    }
    [data-theme="light"] {
      --prevnext-color-text: #1f2022;
      --prevnext-color-angle: #ffeb00;
      --prevnext-subtitle-brightness: 3;
    }
    [data-theme="dark"] {
      --prevnext-color-text: #eefbfe;
      --prevnext-color-angle: #ff66c4;
      --prevnext-subtitle-brightness: 3;
    }
    .prevnext {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
      align-items: flex-start;
    }
    .prevnext a {
      display: flex;
      align-items: center;
      width: 100%;
      text-decoration: none;
    }
    a.next {
      justify-content: flex-end;
    }
    .prevnext a:hover {
      background: #00000006;
    }
    .prevnext-subtitle {
      color: var(--prevnext-color-text);
      filter: brightness(var(--prevnext-subtitle-brightness));
      font-size: .8rem;
    }
    .prevnext-title {
      color: var(--prevnext-color-text);
      font-size: 1rem;
    }
    .prevnext-text {
      max-width: 30vw;
    }
     </style>
     <a class="prev" href="/tmux-show-messages">
      <svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
       <path d="M13.5 8.25L9.75 12L13.5 15.75" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
       </path>
      </svg>
      <div class="prevnext-text">
       <p class="prevnext-subtitle">
        prev
       </p>
       <p class="prevnext-title">
        tmux show-messages
       </p>
      </div>
     </a>
     <a class="next" href="/happy">
      <div class="prevnext-text">
       <p class="prevnext-subtitle">
        next
       </p>
       <p class="prevnext-title">
        Do More of What Brings You Joy
       </p>
      </div>
      <svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
       <path d="M10.5 15.75L14.25 12L10.5 8.25" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
       </path>
      </svg>
     </a>
    </div>
   </div>
   <hr/>
   <div id="show">
   </div>
  </article>
  <footer>
   <ul class="social">
    <li>
     <a href="https://twitter.com/_WaylonWalker">
      twitter
     </a>
    </li>
    <li>
     <a href="https://www.linkedin.com/in/waylonwalker/">
      LinkedIn
     </a>
    </li>
    <li>
     <a href="https://github.com/WaylonWalker">
      GitHub
     </a>
    </li>
    <li>
     <a href="https://dev.to/waylonwalker">
      Dev.to
     </a>
    </li>
    <li>
     <a href="https://www.twitch.tv/waylonwalker">
      twitch
     </a>
    </li>
   </ul>
   <p>
    © 2020 - 2022
   </p>
  </footer>
 </body>
</html>