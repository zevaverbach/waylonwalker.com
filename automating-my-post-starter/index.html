<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <link href="/8bitcc.ico" rel="icon" type="image/png"/>
  <link href="https://waylonwalker.com/automating-my-post-starter/amp/" rel="amphtml"/>
  <meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
  <!-- <link rel='stylesheet' href='/fonts.css' />
  <link rel='stylesheet' href='/archive-styles.css' />
  <link rel='stylesheet' href='/article.css' /> -->
  <link href="/main.min.css" rel="stylesheet"/>
  <link as="style" href="/one-dark.min.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
  <link as="style" href="/furo-purge.min.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
  <!-- <link rel="preload" href="/scroll.css" as="style" onload="this.onload=null;this.rel='stylesheet'"> -->
  <noscript>
   <!-- <link rel='stylesheet' href='/scroll.css' /> -->
   <link href="/one-dark.min.css" rel="stylesheet"/>
   <link href="/furo-purge.min.css" rel="stylesheet"/>
  </noscript>
  <link href="8bitcc_48x48.png" rel="apple-touch-icon" sizes="48x48"/>
  <link href="8bitcc_72x72.png" rel="apple-touch-icon" sizes="72x72"/>
  <link href="8bitcc_96x96.png" rel="apple-touch-icon" sizes="96x96"/>
  <link href="8bitcc_144x144.png" rel="apple-touch-icon" sizes="144x144"/>
  <link href="8bitcc_192x192.png" rel="apple-touch-icon" sizes="192x192"/>
  <link href="8bitcc_256x256.png" rel="apple-touch-icon" sizes="256x256"/>
  <link href="8bitcc_384x384.png" rel="apple-touch-icon" sizes="384x384"/>
  <link href="8bitcc_512x512.png" rel="apple-touch-icon" sizes="512x512"/>
  <title>
   Automating my Post Starter
  </title>
  <meta content="article" name="og:type" property="og:type"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="#322D39" name="theme-color"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="waylon@waylonwalaker.com" name="og:author_email" property="og:author_email"/>
  <meta content="website" name="og:type" property="og:type"/>
  <meta content="One thing we all dread is mundane work of getting started, and all the hoops it When I start a new post I need to cd into my blog directory, start neovim in a f" name="description" property="description"/>
  <meta content="One thing we all dread is mundane work of getting started, and all the hoops it When I start a new post I need to cd into my blog directory, start neovim in a f" name="og:description" property="og:description"/>
  <meta content="One thing we all dread is mundane work of getting started, and all the hoops it When I start a new post I need to cd into my blog directory, start neovim in a f" name="twitter:description" property="twitter:description"/>
  <meta content="Automating my Post Starter | Waylon Walker" name="og:title" property="og:title"/>
  <meta content="Automating my Post Starter | Waylon Walker" name="twitter:title" property="twitter:title"/>
  <meta content="https://images.waylonwalker.com/automating-my-post-starter-og.png" name="og:image" property="og:image"/>
  <meta content="https://images.waylonwalker.com/automating-my-post-starter-og.png" name="twitter:image" property="twitter:image"/>
  <meta content="1600" name="og:image:width" property="og:image:width"/>
  <meta content="900" name="og:image:width" property="og:image:width"/>
  <meta content="summary_large_image" name="twitter:card" property="twitter:card"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="@_waylonwalker" name="twitter:creator" property="twitter:creator"/>
  <meta content="Automating my Post Starter" name="title" property="title"/>
  <meta content="markata 0.1.0" name="generator" property="generator"/>
  <link href="https://waylonwalker.com/automating-my-post-starter/" rel="canonical"/>
  <meta content="https://waylonwalker.com/automating-my-post-starter/" name="og:url" property="og:url"/>
  <link href="/manifest.json" rel="manifest"/>
  <meta content="https://images.waylonwalker.com/automating-my-post-starter-og_250x140.png" name="og:sm_image" property="og:sm_image"/>
  <meta content="https://images.waylonwalker.com/automating-my-post-starter-og_250x140.png" name="og:sm_image" property="og:sm_image"/>
 </head>
 <body>
  <nav>
   <ul>
    <li>
     <a href="/">
      Home
     </a>
    </li>
    <li>
     <a href="/archive/">
      Archive
     </a>
    </li>
    <li>
     <a aria-label="RSS" href="/rss.xml">
      <svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
       <path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
       </path>
      </svg>
     </a>
    </li>
   </ul>
  </nav>
  <article class="blog-post h-entry">
   <!-- <div id='cover-wrapper'>
      <img src='/automating-my-post-starter.webp' alt='cover image for article' />
    </div> -->
   <div id="title-wrapper">
    <a class="u-url" href="https://waylonwalker.com/automating-my-post-starter/">
     <h1 class="flair" id="title" style="text-align:right;z-index:2;padding-right:.2rem">
      Automating my Post Starter
     </h1>
    </a>
    <p>
     <time class="dt-published post-date" datetime="2020-12-11" style="text-align:right;z-index:2">
      2020-12-11
     </time>
    </p>
    <div class="h-card p-author" rel="author">
     <div class="content">
      <a class="p-name u-url" href="https://waylonwalker.com/">
       <p>
        <span class="p-given-name">
         Waylon
        </span>
        <span class="p-family-name">
         Walker
        </span>
       </p>
      </a>
      <p class="p-note">
       Learning in Public
       <a href="https://twitter.com/_WaylonWalker">
        @_WaylonWalker
       </a>
      </p>
     </div>
    </div>
    <!-- edit -->
    <p>
     <a alt="edit post url" href="https://github.com/WaylonWalker/waylonwalker.com/edit/main/pages/blog/automating-my-post-starter.md" title="edit this post">
      edit
      <span aria-label="" role="img">
       ‚úèÔ∏è
      </span>
     </a>
    </p>
   </div>
   <!-- <h2 class='toc'>toc</h2> -->
   <!-- <div class="toc">
<ul>
<li><a href="#its-still-early">It's still early</a></li>
<li><a href="#on-to-the-devtools">On to the devtools</a></li>
<li><a href="#why-does-textual-need-its-own-devtools">Why does textual need its own devtools</a></li>
<li><a href="#getting-the-css-branch">getting the css branch</a></li>
<li><a href="#install-in-a-virtual-environment">install in a virtual environment</a></li>
<li><a href="#now-that-we-have-textual-installed">Now that we have textual installed</a></li>
</ul>
</div>
 -->
   <div id="post-body">
    <p>
     One thing we all dread is mundane work of getting started, and all the hoops it
takes to get going.  This year I want to post more often and I am taking some
steps towards making it easier for myself to just get started.
    </p>
    <p>
     When I start a new post I need to cd into my blog directory, start neovim in a
markdown file with a clever name, copy some frontmatter boilerplate, update the
post date, add tags, a description, and a cover.
    </p>
    <h2 id="todo-list-for-starting-a-post">
     Todo List for starting a post
     <a alt="id" class="heading-permalink" href="#todo-list-for-starting-a-post" title="link to #todo-list-for-starting-a-post">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <ul>
     <li>
      frontmatter template
     </li>
     <li>
      Title
     </li>
     <li>
      slug
     </li>
     <li>
      tags
     </li>
     <li>
      date
     </li>
     <li>
      cover
     </li>
     <li>
      description
     </li>
     <li>
      create markdown file
     </li>
     <li>
      open in neovim
     </li>
    </ul>
    <h2 id="lets-automate-this">
     Lets Automate this
     <a alt="id" class="heading-permalink" href="#lets-automate-this" title="link to #lets-automate-this">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <h3 id="this-aint-no-proper-cli">
     This aint no proper cli
     <a alt="id" class="heading-permalink" href="#this-aint-no-proper-cli" title="link to #this-aint-no-proper-cli">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h3>
    <p>
     <em>
      hot and fast
     </em>
    </p>
    <p>
     As with many thing running behind the scenes on this site, I am the one and
only user, I have limited time, so this is going to be a bit
     <strong>
      hot and fast
     </strong>
     .
Let's create a file called new-post.
    </p>
    <p>
     <em>
      <small>
       <mark>
        start the script new-post
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="ch">#!python</span>
<span class="c1"># new-post</span>
</code></pre>
    </div>
    <blockquote>
     <p>
      üëÜ Works on my machine
     </p>
    </blockquote>
    <p>
     If this were something that had more users than me I would probably use
something like click, but for this I want to get it done quick and avoid any
need to manage dependencies.  Be careful if you were to share something with a
     <code>
      #!python
     </code>
     as it requries the end user to have the right version of python
ready to go.
    </p>
    <h3 id="title">
     Title
    </h3>
    <p>
     The title can't really be automated this is the core idea coming out of my üß†,
but it will be captured through the cli and put into proper position.  For this
I'm going super simple and just pulling it out of
     <code>
      sys.argv
     </code>
    </p>
    <p>
     <em>
      <small>
       <mark>
        set the title
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">title</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
</code></pre>
    </div>
    <blockquote>
     <p>
      ! sys.argv is a list of each argument passed into the script split by spaces.
     </p>
    </blockquote>
    <h3 id="slug">
     slug
     <a alt="id" class="heading-permalink" href="#slug" title="link to #slug">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h3>
    <p>
     The slug is what I am calling the route and can simply come out of the title
automatically, if I want to shorten it later by hand that will be simple enough
to do manually. All that needs to be done is to lowercase and replace a few
characters with -.
    </p>
    <p>
     <em>
      <small>
       <mark>
        set the slug
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">slug</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">)(</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span> <span class="s2">"-"</span><span class="o">.</span><span class="n">replace</span><span class="p">()</span><span class="s2">"_"</span><span class="p">,</span> <span class="o">-</span><span class="s2">""</span><span class="p">)</span><span class="s2">""</span><span class="p">))</span>
</code></pre>
    </div>
    <h3 id="tags">
     tags
     <a alt="id" class="heading-permalink" href="#tags" title="link to #tags">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h3>
    <p>
     For tags I decided I wanted the parser to be as simple as possible and didn't
want to dance around any flags.  I am simply just going to look at every
argument passed into the command and see if any of them contain one of my
common tags.
    </p>
    <p>
     <em>
      <small>
       <mark>
        parse the tags
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">args</span> <span class="o">=</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">tags</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">if</span> <span class="s1">'py'</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'python'</span><span class="p">)</span>

<span class="k">if</span> <span class="s1">'web'</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'webdev'</span><span class="p">)</span>

<span class="k">if</span> <span class="s1">'blog'</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'blog'</span><span class="p">)</span>

<span class="k">if</span> <span class="s1">'data'</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'data'</span><span class="p">)</span>
</code></pre>
    </div>
    <p>
     ü§∑‚Äç‚ôÇÔ∏è
     <strong>
      antipattern
     </strong>
     ?? The above section does an initialize then modify.  I generally try to avoid this
pattern with something like a list comprehension, but didn't see an obvious
solution so I just went with it.
    </p>
    <h2 id="frontmatter-template">
     Frontmatter Template
     <a alt="id" class="heading-permalink" href="#frontmatter-template" title="link to #frontmatter-template">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Now we have enough information going to assemble the frontmatter I use for my
posts.  I am going to just insert the values I need into an f-string.  Since
python 3.6 was released f-strings are my go to templating tool.
    </p>
    <p>
     <em>
      <small>
       <mark>
        create the markdown
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">frontmatter</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"""---</span>
<span class="s2">templateKey: blog-post</span>
<span class="s2">tags: </span><span class="si">{</span><span class="n">tags</span><span class="si">}</span><span class="s2"></span>
<span class="s2">title: </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2"></span>
<span class="s2">date: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S'</span><span class="p">)</span><span class="si">}</span><span class="s2"></span>
<span class="s2">status: draft</span>
<span class="s2">description: ''</span>
<span class="s2">cover: "/static/</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.png"</span>

<span class="s2">---</span>

<span class="s2">"""</span>
</code></pre>
    </div>
    <h3 id="create-markdown-file">
     create markdown file
     <a alt="id" class="heading-permalink" href="#create-markdown-file" title="link to #create-markdown-file">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h3>
    <p>
     Now its time to get down to business and make the post.  First I want to throw
an error if the post already exists, I definitely dont want to blow away an
existing post if a certain slug is already taken.  I am a big fan of custom
error messages and I am going to go ahead and make one here, even though this
is just a quick script.
    </p>
    <p>
     <em>
      <small>
       <mark>
        custom error
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="k">class</span> <span class="nc">PostExistsError</span><span class="p">(</span><span class="ne">FileExistsError</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre>
    </div>
    <p>
     I am a
     <code>
      pathlib
     </code>
     superfan.  It's going to make setting up these paths super
simple.  Note I am going to anchor my directory down with the
     <code>
      __file__
     </code>
     variable.  I do this all the time to get paths relative to the module that is
currently running.
    </p>
    <p>
     <em>
      <small>
       <mark>
        setup paths
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s2">/src/pages/blog/</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.md"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="k">raise</span> <span class="n">PostExistsError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Post Already exists at </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre>
    </div>
    <blockquote>
     <p>
      <strong>
       file
      </strong>
      is a string that represents the path to the running module
     </p>
    </blockquote>
    <p>
     Finally just write the file.  Here we open the file with a context manager so
that we don't have to worry about closing it when we are done.  Note that we
open it with the
     <code>
      w+
     </code>
     flag for write and creation.
    </p>
    <p>
     <em>
      <small>
       <mark>
        write the file
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">"w+"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frontmatter</span><span class="p">)</span>
</code></pre>
    </div>
    <h3 id="git-add">
     git add
     <a alt="id" class="heading-permalink" href="#git-add" title="link to #git-add">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h3>
    <p>
     I am not quite ready to pull the trigger on doing an auto commit, but this may
happen in a future version.  For now I want this file easily picked up by vims
     <code>
      :GFiles
     </code>
     since I have that is one of my most used hot keys.  To do this the
file at least needs added.  I'm sure there is a better way to do this with a
Git library, but I am used to the command line so I am going to just run a
subprocess.
    </p>
    <p>
     I am using the
     <code>
      subprocess.Popen
     </code>
     command since its what I am used to, note
that it will run the task in the background so be sure that you wait on it.
The
     <code>
      Popen
     </code>
     is great if you have several task that are not dependent on each
other.
    </p>
    <p>
     <em>
      <small>
       <mark>
        git add
        <new-post>
        </new-post>
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">gadd</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">'cd </span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s1"> &amp;&amp; git add </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"/"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span><span class="si">}</span><span class="s1"> '</span><span class="p">,</span>
    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">gadd</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</code></pre>
    </div>
    <h3 id="open-in-neovim">
     open in neovim
     <a alt="id" class="heading-permalink" href="#open-in-neovim" title="link to #open-in-neovim">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h3>
    <p>
     Last step of the script is to start writing, I want to be open in my blogs
directory (hence the cd), with the file open, to the right line (+11), and in
insert mode (+star).
    </p>
    <p>
     <em>
      <small>
       <mark>
        open post in neovim
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="n">nvim</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">'cd </span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s1"> &amp;&amp; nvim +12 +star </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"/"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span><span class="si">}</span><span class="s1"> '</span><span class="p">,</span>
    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">nvim</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</code></pre>
    </div>
    <h2 id="alias">
     Alias
     <a alt="id" class="heading-permalink" href="#alias" title="link to #alias">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Now I want this script to be available everywhere.  I am going to simply add
the following entry to shorten the script and eliminate the need to use the
full path.  I added this to my
     <code>
      ~/.alias
     </code>
     , for you it may be
     <code>
      ~/.bashrc
     </code>
     , or
     <code>
      ~/.zshrc
     </code>
     .
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="nb">alias</span> <span class="nv">np</span><span class="o">=</span>~/git/waylonwalkerv2/new-post
</code></pre>
    </div>
    <h2 id="starting-a-new-post">
     Starting a new post
     <a alt="id" class="heading-permalink" href="#starting-a-new-post" title="link to #starting-a-new-post">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Lets start a new post about automating my posts in python.
    </p>
    <div class="highlight">
     <pre><span></span><code>np <span class="s2">"automating my posts"</span> python
</code></pre>
    </div>
    <h2 id="this-is-my-workflow">
     This is my workflow
     <a alt="id" class="heading-permalink" href="#this-is-my-workflow" title="link to #this-is-my-workflow">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Ad hoc scripts like this can be a bit of a hot mess, partly due to the just get
it done nature, but also due to the fact that I am just riffing off the top of
my head and utilizing docs as least as possible.
    </p>
    <p>
     While writing the script I would run it after each section or so and print some
results to make sure they were looking good. If I ever needed access to a live
variable I would pop open ipython and run
     <code>
      %run new-post "my-new-post"
     </code>
     and
inspecting it.
    </p>
    <h2 id="final-script">
     Final Script
     <a alt="id" class="heading-permalink" href="#final-script" title="link to #final-script">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     <em>
      <small>
       <mark>
        final script
       </mark>
      </small>
     </em>
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="ch">#!python</span>
<span class="c1"># new-post</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">subprocess</span>


<span class="n">title</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">titlecase</span><span class="p">()</span>
<span class="n">args</span> <span class="o">=</span> <span class="s2">""</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">tags</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">if</span> <span class="s2">"py"</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"python"</span><span class="p">)</span>

<span class="k">if</span> <span class="s2">"web"</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"webdev"</span><span class="p">)</span>

<span class="k">if</span> <span class="s2">"blog"</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"blog"</span><span class="p">)</span>

<span class="k">if</span> <span class="s2">"data"</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
    <span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"data"</span><span class="p">)</span>

<span class="n">slug</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span> <span class="s2">"-"</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"_"</span><span class="p">,</span> <span class="s2">"-"</span><span class="p">)</span>
<span class="n">frontmatter</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"""---</span>
<span class="s2">templateKey: blog-post</span>
<span class="s2">tags: </span><span class="si">{</span><span class="n">tags</span><span class="si">}</span><span class="s2"></span>
<span class="s2">title: </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2"></span>
<span class="s2">date: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S'</span><span class="p">)</span><span class="si">}</span><span class="s2"></span>
<span class="s2">status: draft</span>
<span class="s2">description: ''</span>
<span class="s2">cover: "/static/</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.png"</span>

<span class="s2">---</span>


<span class="s2">"""</span>


<span class="k">class</span> <span class="nc">PostExistsError</span><span class="p">(</span><span class="ne">FileExistsError</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s2">/src/pages/blog/</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.md"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="k">raise</span> <span class="n">PostExistsError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Post Already exists at </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">"w+"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frontmatter</span><span class="p">)</span>

<span class="n">gadd</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">'cd </span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s1"> &amp;&amp; git add </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"/"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span><span class="si">}</span><span class="s1"> '</span><span class="p">,</span>
    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">gadd</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="n">nvim</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">'cd </span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s1"> &amp;&amp; nvim +12 +star </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"/"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span><span class="si">}</span><span class="s1"> '</span><span class="p">,</span>
    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">nvim</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</code></pre>
    </div>
    <div class="onelinelink-wrapper">
     <a class="onelinelink" href="https://waylonwalker.com/quickly-edit-posts/">
      <img align="right" alt="article cover for 
 Quickly Edit Posts
" src="https://images.waylonwalker.com/quickly-edit-posts-og_250x140.png" style="float: right;"/>
      <p>
       <strong>
        Quickly Edit Posts
       </strong>
      </p>
     </a>
    </div>
    <blockquote>
     <p>
      check out the next article in this series where I setup a bash function to quickly edit these posts
     </p>
    </blockquote>
    <div class="prevnext">
     <style type="text/css">
      :root {
      --prevnext-color-text: #eefbfe;
      --prevnext-color-angle: #ff66c4;
      --prevnext-subtitle-brightness: 3;
    }
    [data-theme="light"] {
      --prevnext-color-text: #1f2022;
      --prevnext-color-angle: #ffeb00;
      --prevnext-subtitle-brightness: 3;
    }
    [data-theme="dark"] {
      --prevnext-color-text: #eefbfe;
      --prevnext-color-angle: #ff66c4;
      --prevnext-subtitle-brightness: 3;
    }
    .prevnext {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
      align-items: flex-start;
    }
    .prevnext a {
      display: flex;
      align-items: center;
      width: 100%;
      text-decoration: none;
    }
    a.next {
      justify-content: flex-end;
    }
    .prevnext a:hover {
      background: #00000006;
    }
    .prevnext-subtitle {
      color: var(--prevnext-color-text);
      filter: brightness(var(--prevnext-subtitle-brightness));
      font-size: .8rem;
    }
    .prevnext-title {
      color: var(--prevnext-color-text);
      font-size: 1rem;
    }
    .prevnext-text {
      max-width: 30vw;
    }
     </style>
     <a class="prev" href="/autoreload-ipython">
      <svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
       <path d="M13.5 8.25L9.75 12L13.5 15.75" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
       </path>
      </svg>
      <div class="prevnext-text">
       <p class="prevnext-subtitle">
        prev
       </p>
       <p class="prevnext-title">
        Autoreload in Ipython
       </p>
      </div>
     </a>
     <a class="next" href="/audio-for-blog">
      <div class="prevnext-text">
       <p class="prevnext-subtitle">
        next
       </p>
       <p class="prevnext-title">
        Adding Audio to my blog posts
       </p>
      </div>
      <svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
       <path d="M10.5 15.75L14.25 12L10.5 8.25" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
       </path>
      </svg>
     </a>
    </div>
   </div>
   <hr/>
   <div id="show">
   </div>
  </article>
  <footer>
   <ul class="social">
    <li>
     <a href="https://twitter.com/_WaylonWalker">
      twitter
     </a>
    </li>
    <li>
     <a href="https://www.linkedin.com/in/waylonwalker/">
      LinkedIn
     </a>
    </li>
    <li>
     <a href="https://github.com/WaylonWalker">
      GitHub
     </a>
    </li>
    <li>
     <a href="https://dev.to/waylonwalker">
      Dev.to
     </a>
    </li>
    <li>
     <a href="https://www.twitch.tv/waylonwalker">
      twitch
     </a>
    </li>
   </ul>
   <p>
    ¬© 2020 - 2022
   </p>
  </footer>
 </body>
</html>