<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <link href="/8bitcc.ico" rel="icon" type="image/png"/>
  <link href="https://waylonwalker.com/setup-yamlls/amp/" rel="amphtml"/>
  <meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
  <!-- <link rel='stylesheet' href='/fonts.css' />
  <link rel='stylesheet' href='/archive-styles.css' />
  <link rel='stylesheet' href='/article.css' /> -->
  <link href="/main.min.css" rel="stylesheet"/>
  <link as="style" href="/one-dark.min.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
  <link as="style" href="/furo-purge.min.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
  <!-- <link rel="preload" href="/scroll.css" as="style" onload="this.onload=null;this.rel='stylesheet'"> -->
  <noscript>
   <!-- <link rel='stylesheet' href='/scroll.css' /> -->
   <link href="/one-dark.min.css" rel="stylesheet"/>
   <link href="/furo-purge.min.css" rel="stylesheet"/>
  </noscript>
  <link href="8bitcc_48x48.png" rel="apple-touch-icon" sizes="48x48"/>
  <link href="8bitcc_72x72.png" rel="apple-touch-icon" sizes="72x72"/>
  <link href="8bitcc_96x96.png" rel="apple-touch-icon" sizes="96x96"/>
  <link href="8bitcc_144x144.png" rel="apple-touch-icon" sizes="144x144"/>
  <link href="8bitcc_192x192.png" rel="apple-touch-icon" sizes="192x192"/>
  <link href="8bitcc_256x256.png" rel="apple-touch-icon" sizes="256x256"/>
  <link href="8bitcc_384x384.png" rel="apple-touch-icon" sizes="384x384"/>
  <link href="8bitcc_512x512.png" rel="apple-touch-icon" sizes="512x512"/>
  <title>
   Setup a yaml schema | yamlls for a silky smooth setup
  </title>
  <meta content="article" name="og:type" property="og:type"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="#322D39" name="theme-color"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="waylon@waylonwalaker.com" name="og:author_email" property="og:author_email"/>
  <meta content="website" name="og:type" property="og:type"/>
  <meta content="I https://youtu.be/xo4HrFoKF4c The video for this one is part of a I have my  You will need the following plugins.  I use plug, if you don Make sure that you ha" name="description" property="description"/>
  <meta content="I https://youtu.be/xo4HrFoKF4c The video for this one is part of a I have my  You will need the following plugins.  I use plug, if you don Make sure that you ha" name="og:description" property="og:description"/>
  <meta content="I https://youtu.be/xo4HrFoKF4c The video for this one is part of a I have my  You will need the following plugins.  I use plug, if you don Make sure that you ha" name="twitter:description" property="twitter:description"/>
  <meta content="Setup a yaml schema | yamlls for a silky smooth setup | Wayl" name="og:title" property="og:title"/>
  <meta content="Setup a yaml schema | yamlls for a silky smooth setup | Wayl" name="twitter:title" property="twitter:title"/>
  <meta content="https://images.waylonwalker.com/setup-yamlls-og.png" name="og:image" property="og:image"/>
  <meta content="https://images.waylonwalker.com/setup-yamlls-og.png" name="twitter:image" property="twitter:image"/>
  <meta content="1600" name="og:image:width" property="og:image:width"/>
  <meta content="900" name="og:image:width" property="og:image:width"/>
  <meta content="summary_large_image" name="twitter:card" property="twitter:card"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="@_waylonwalker" name="twitter:creator" property="twitter:creator"/>
  <meta content="Setup a yaml schema | yamlls for a silky smooth setup" name="title" property="title"/>
  <meta content="markata 0.1.0" name="generator" property="generator"/>
  <link href="https://waylonwalker.com/setup-yamlls/" rel="canonical"/>
  <meta content="https://waylonwalker.com/setup-yamlls/" name="og:url" property="og:url"/>
  <link href="/manifest.json" rel="manifest"/>
  <meta content="https://images.waylonwalker.com/setup-yamlls-og_250x140.png" name="og:sm_image" property="og:sm_image"/>
  <meta content="https://images.waylonwalker.com/setup-yamlls-og_250x140.png" name="og:sm_image" property="og:sm_image"/>
 </head>
 <body>
  <nav>
   <ul>
    <li>
     <a href="/">
      Home
     </a>
    </li>
    <li>
     <a href="/archive/">
      Archive
     </a>
    </li>
    <li>
     <a aria-label="RSS" href="/rss.xml">
      <svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
       <path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
       </path>
      </svg>
     </a>
    </li>
   </ul>
  </nav>
  <article class="blog-post h-entry">
   <!-- <div id='cover-wrapper'>
      <img src='/setup-yamlls.webp' alt='cover image for article' />
    </div> -->
   <div id="title-wrapper">
    <a class="u-url" href="https://waylonwalker.com/setup-yamlls/">
     <h1 class="flair" id="title" style="text-align:right;z-index:2;padding-right:.2rem">
      Setup a yaml schema | yamlls for a silky smooth setup
     </h1>
    </a>
    <p>
     <time class="dt-published post-date" datetime="2021-12-03" style="text-align:right;z-index:2">
      2021-12-03
     </time>
    </p>
    <div class="h-card p-author" rel="author">
     <div class="content">
      <a class="p-name u-url" href="https://waylonwalker.com/">
       <p>
        <span class="p-given-name">
         Waylon
        </span>
        <span class="p-family-name">
         Walker
        </span>
       </p>
      </a>
      <p class="p-note">
       Learning in Public
       <a href="https://twitter.com/_WaylonWalker">
        @_WaylonWalker
       </a>
      </p>
     </div>
    </div>
    <!-- edit -->
    <p>
     <a alt="edit post url" href="https://github.com/WaylonWalker/waylonwalker.com/edit/main/pages/blog/setup-yamlls.md" title="edit this post">
      edit
      <span aria-label="" role="img">
       ✏️
      </span>
     </a>
    </p>
   </div>
   <!-- <h2 class='toc'>toc</h2> -->
   <!-- <div class="toc">
<ul>
<li><a href="#its-still-early">It's still early</a></li>
<li><a href="#on-to-the-devtools">On to the devtools</a></li>
<li><a href="#why-does-textual-need-its-own-devtools">Why does textual need its own devtools</a></li>
<li><a href="#getting-the-css-branch">getting the css branch</a></li>
<li><a href="#install-in-a-virtual-environment">install in a virtual environment</a></li>
<li><a href="#now-that-we-have-textual-installed">Now that we have textual installed</a></li>
</ul>
</div>
 -->
   <div id="post-body">
    <p>
     I've gone far too long without a good setup for editing yaml
files, I am missing out on autocomplete and proper diagnostics.
This ends today as I setup yaml-language-server in neovim.
    </p>
    <p>
     <iframe allow="accelerometer; autoplay;
        clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="450" src="https://youtube.com/embed/xo4HrFoKF4c" title="YouTube video
        player" width="800">
     </iframe>
    </p>
    <p>
     The video for this one is part of a
     <a href="https://www.youtube.com/playlist?list=PLTRNG6WIHETAj0nR_WYAxxGjd7kXch5zj">
      challenge-playlist
     </a>
     I put out for myself to constantly improve my dotfiles for all of December.
    </p>
    <h2 id="initvim">
     init.vim
     <a alt="id" class="heading-permalink" href="#initvim" title="link to #initvim">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     I have my
     <code>
      init.vim
     </code>
     setup to only source other modules, if you want everything
in a single config, feel free to do as you wish.  I broke mine up earlier this
year as I doubled into nvim and am not going back.
    </p>
    <div class="highlight">
     <pre><span></span><code>source <span class="p">~</span><span class="sr">/.config/</span>nvim/plugins.<span class="k">vim</span>
<span class="k">lua</span> require<span class="s1">'waylonwalker.cmp'</span>
<span class="k">lua</span> require<span class="s1">'waylonwalker.lsp-config'</span>
</code></pre>
    </div>
    <h2 id="plugin-setup">
     Plugin setup
     <a alt="id" class="heading-permalink" href="#plugin-setup" title="link to #plugin-setup">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     You will need the following plugins.  I use plug, if you don't you will have to
convert the syntax over to the plugin manager you use.
    </p>
    <p>
     <a href="https://github.com/neovim/nvim-lspconfig">
      neovim/nvim-lspconfig
     </a>
     is for
configuring the lsp.  It comes with a bunch of sane defaults for most servers,
so you pretty much just have to call setup on that server unless you want to
change the defaults.
    </p>
    <p>
     <a href="https://github.com/hrsh7th/nvim-cmp">
      hrsh7th/nvim-cmp
     </a>
     is what I use for
autocomplete. If you are using something else you might need to set that up in
a different way in order to get the autocomplete to work.  You will still get
the diagnostics with just lsp-config.
    </p>
    <p>
     <a href="https://github.com/kabouzeid/nvim-lspinstall">
      kabouzeid/nvim-lspinstall
     </a>
     will
aide in installing lsp's if you want.  I have chosen not to because I want to
have my full setup scripted so when I setup any new machine I just run my
ansible-playbook.  This library is nice to just set things up quick and play
with them.
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="c">" /home/u_walkews/.config/nvim/plugins.vim</span>
Plug <span class="s1">'neovim/nvim-lspconfig'</span>

<span class="c">" if you want to use nvim-cmp</span>
Plug <span class="s1">'hrsh7th/nvim-cmp'</span>
Plug <span class="s1">'hrsh7th/cmp-nvim-lsp'</span>

<span class="c">" if you want to use lsp-install</span>
Plug <span class="s1">'kabouzeid/nvim-lspinstall'</span>
</code></pre>
    </div>
    <h2 id="cmp-config">
     cmp config
     <a alt="id" class="heading-permalink" href="#cmp-config" title="link to #cmp-config">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Make sure that you have nvim_lsp as a source in your cmp config.  This is my
config as of now, its likely to change in the future, set yours up how you
like.  hrsh7th has a really good readme if you want help configuring cmp.
    </p>
    <blockquote>
     <p>
      Again if you don't use cmp you can skip this step, cmp is for autocomplete.
You can use a different plugin for autocomplete, or not use a plugin at all
if that's your thing.
     </p>
    </blockquote>
    <div class="highlight">
     <pre><span></span><code><span class="c1">--  ~/.config/nvim/lua/waylonwalker/lsp-config.lua</span>
<span class="c1">-- Setup nvim-cmp.</span>
<span class="kd">local</span> <span class="n">cmp</span> <span class="o">=</span> <span class="nb">require</span><span class="s1">'cmp'</span>

<span class="n">cmp</span><span class="p">.</span><span class="n">setup</span><span class="p">({</span>
<span class="n">snippet</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">expand</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="c1">-- For `vsnip` user.</span>
    <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">[</span><span class="s2">"vsnip#anonymous"</span><span class="p">](</span><span class="n">args</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>

    <span class="c1">-- For `luasnip` user.</span>
    <span class="c1">-- require('luasnip').lsp_expand(args.body)</span>

    <span class="c1">-- For `ultisnips` user.</span>
    <span class="c1">-- vim.fn["UltiSnips#Anon"](args.body)</span>
    <span class="kr">end</span><span class="p">,</span>
<span class="p">},</span>
<span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="s1">'&lt;C-n&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_next_item</span><span class="p">({</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">SelectBehavior</span><span class="p">.</span><span class="n">Insert</span> <span class="p">}),</span>
  <span class="p">[</span><span class="s1">'&lt;C-p&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_prev_item</span><span class="p">({</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">SelectBehavior</span><span class="p">.</span><span class="n">Insert</span> <span class="p">}),</span>
  <span class="p">[</span><span class="s1">'&lt;Down&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_next_item</span><span class="p">({</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">SelectBehavior</span><span class="p">.</span><span class="n">Select</span> <span class="p">}),</span>
  <span class="p">[</span><span class="s1">'&lt;Up&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">select_prev_item</span><span class="p">({</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">SelectBehavior</span><span class="p">.</span><span class="n">Select</span> <span class="p">}),</span>
  <span class="p">[</span><span class="s1">'&lt;C-d&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">scroll_docs</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">),</span>
  <span class="p">[</span><span class="s1">'&lt;C-f&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">scroll_docs</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
  <span class="p">[</span><span class="s1">'&lt;C-Space&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">complete</span><span class="p">(),</span>
  <span class="p">[</span><span class="s1">'&lt;C-e&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">close</span><span class="p">(),</span>
  <span class="p">[</span><span class="s1">'&lt;CR&gt;'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">confirm</span><span class="p">({</span>
    <span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">ConfirmBehavior</span><span class="p">.</span><span class="n">Replace</span><span class="p">,</span>
    <span class="nb">select</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">})</span>
<span class="p">},</span>
<span class="n">sources</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'nvim_lsp'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'vsnip'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'path'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'buffer'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'calc'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'tmux'</span> <span class="p">},</span>
<span class="p">}</span>
<span class="p">})</span>
</code></pre>
    </div>
    <h2 id="lsp-config">
     lsp config
     <a alt="id" class="heading-permalink" href="#lsp-config" title="link to #lsp-config">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <p>
     Next up is the heart of this post, the lsp-config.lua.  This one is pretty
straight forward, require lspconfig (which you need the plugin for), then set
it up with cmp and the extra schemas.  I'm sure there are yaml schemas for tons
of things, I'll probably add more in the future, but for now, this is what I
have.
    </p>
    <div class="highlight">
     <pre><span></span><code><span class="c1">--  ~/.config/nvim/lua/waylonwalker/lsp-config.lua</span>
<span class="nb">require</span><span class="s1">'lspconfig'</span><span class="p">.</span><span class="n">yamlls</span><span class="p">.</span><span class="n">setup</span><span class="p">{</span>
    <span class="n">on_attach</span><span class="o">=</span><span class="n">on_attach</span><span class="p">,</span>
    <span class="n">capabilities</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'cmp_nvim_lsp'</span><span class="p">).</span><span class="n">update_capabilities</span><span class="p">(</span><span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">protocol</span><span class="p">.</span><span class="n">make_client_capabilities</span><span class="p">()),</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">yaml</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">schemas</span> <span class="o">=</span> <span class="p">{</span>
                <span class="p">[</span><span class="s2">"https://raw.githubusercontent.com/quantumblacklabs/kedro/develop/static/jsonschema/kedro-catalog-0.17.json"</span><span class="p">]</span><span class="o">=</span> <span class="s2">"conf/**/*catalog*"</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">"https://json.schemastore.org/github-workflow.json"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"/.github/workflows/*"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    </div>
    <h2 id="related-links">
     Related Links
     <a alt="id" class="heading-permalink" href="#related-links" title="link to #related-links">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <ul>
     <li>
      <a href="https://github.com/WaylonWalker/devtainer/tree/main/nvim/.config/nvim">
       my nvim config
      </a>
     </li>
     <li>
      <a href="https://github.com/neovim/nvim-lspconfig">
       nvim-lspconfig GitHub
      </a>
     </li>
     <li>
      <a href="https://github.com/hrsh7th/nvim-cmp">
       nvim-cmp GitHub
      </a>
     </li>
     <li>
      <a href="https://github.com/kabouzeid/nvim-lspinstall/blob/main/lua/lspinstall/servers/yaml.lua">
       lspinstall yamlls
      </a>
     </li>
     <li>
      <a href="https://www.npmjs.com/package/yaml-language-server?activeTab=readme">
       yaml-language-server npm
      </a>
     </li>
    </ul>
    <p>
     Follow the
     <a href="https://youtube.com/waylonwalker">
      YouTube channel
     </a>
     or the
     <a href="https://waylonwalker/rss/">
      rss-feed
     </a>
     to stay up to date.
    </p>
    <h2 id="also-check-out-my-python-lsp-setup">
     Also Check out My python lsp setup
     <a alt="id" class="heading-permalink" href="#also-check-out-my-python-lsp-setup" title="link to #also-check-out-my-python-lsp-setup">
      <span class="visually-hidden">
      </span>
      <svg aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewbox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg">
       <path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z">
       </path>
      </svg>
     </a>
    </h2>
    <div class="onelinelink-wrapper">
     <a class="onelinelink" href="https://waylonwalker.com/setup-pylsp/">
      <img align="right" alt="article cover for 
 python lsp setup
" src="https://images.waylonwalker.com/setup-pylsp-og_250x140.png" style="float: right;"/>
      <p>
       <strong>
        python lsp setup
       </strong>
      </p>
     </a>
    </div>
    <div class="prevnext">
     <style type="text/css">
      :root {
      --prevnext-color-text: #eefbfe;
      --prevnext-color-angle: #ff66c4;
      --prevnext-subtitle-brightness: 3;
    }
    [data-theme="light"] {
      --prevnext-color-text: #1f2022;
      --prevnext-color-angle: #ffeb00;
      --prevnext-subtitle-brightness: 3;
    }
    [data-theme="dark"] {
      --prevnext-color-text: #eefbfe;
      --prevnext-color-angle: #ff66c4;
      --prevnext-subtitle-brightness: 3;
    }
    .prevnext {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
      align-items: flex-start;
    }
    .prevnext a {
      display: flex;
      align-items: center;
      width: 100%;
      text-decoration: none;
    }
    a.next {
      justify-content: flex-end;
    }
    .prevnext a:hover {
      background: #00000006;
    }
    .prevnext-subtitle {
      color: var(--prevnext-color-text);
      filter: brightness(var(--prevnext-subtitle-brightness));
      font-size: .8rem;
    }
    .prevnext-title {
      color: var(--prevnext-color-text);
      font-size: 1rem;
    }
    .prevnext-text {
      max-width: 30vw;
    }
     </style>
     <a class="prev" href="/should-i-switch-to-zeit-now">
      <svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
       <path d="M13.5 8.25L9.75 12L13.5 15.75" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
       </path>
      </svg>
      <div class="prevnext-text">
       <p class="prevnext-subtitle">
        prev
       </p>
       <p class="prevnext-title">
        Should I switch to Zeit Now
       </p>
      </div>
     </a>
     <a class="next" href="/serverless-things-to-investigate">
      <div class="prevnext-text">
       <p class="prevnext-subtitle">
        next
       </p>
       <p class="prevnext-title">
        Serverless things to investigate
       </p>
      </div>
      <svg fill="none" height="50px" viewbox="0 0 24 24" width="50px" xmlns="http://www.w3.org/2000/svg">
       <path d="M10.5 15.75L14.25 12L10.5 8.25" stroke="var(--prevnext-color-angle)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
       </path>
      </svg>
     </a>
    </div>
   </div>
   <hr/>
   <div id="show">
   </div>
  </article>
  <footer>
   <ul class="social">
    <li>
     <a href="https://twitter.com/_WaylonWalker">
      twitter
     </a>
    </li>
    <li>
     <a href="https://www.linkedin.com/in/waylonwalker/">
      LinkedIn
     </a>
    </li>
    <li>
     <a href="https://github.com/WaylonWalker">
      GitHub
     </a>
    </li>
    <li>
     <a href="https://dev.to/waylonwalker">
      Dev.to
     </a>
    </li>
    <li>
     <a href="https://www.twitch.tv/waylonwalker">
      twitch
     </a>
    </li>
   </ul>
   <p>
    © 2021 - 2022
   </p>
  </footer>
 </body>
</html>